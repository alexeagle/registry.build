<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">Emboss</h1><a id="user-content-emboss" class="anchor" aria-label="Permalink: Emboss" href="#emboss"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Emboss is a tool for generating code that reads and writes binary data
structures.  It is designed to help write code that communicates with hardware
devices such as GPS receivers, LIDAR scanners, or actuators.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">What does Emboss <em>do</em>?</h2><a id="user-content-what-does-emboss-do" class="anchor" aria-label="Permalink: What does Emboss do?" href="#what-does-emboss-do"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Emboss takes specifications of binary data structures, and produces code that
will efficiently and safely read and write those structures.</p>
<p dir="auto">Currently, Emboss only generates C++ code, but the compiler is structured so
that writing new back ends is relatively easy -- contact <a href="mailto:emboss-dev@google.com">emboss-dev@google.com</a>
if you think Emboss would be useful, but your project uses a different language.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">When should I use Emboss?</h2><a id="user-content-when-should-i-use-emboss" class="anchor" aria-label="Permalink: When should I use Emboss?" href="#when-should-i-use-emboss"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">If you're sitting down with a manual that looks something like
<a href="https://hexagondownloads.blob.core.windows.net/public/Novatel/assets/Documents/Manuals/om-20000094/om-20000094.pdf" rel="nofollow">this</a> or
<a href="https://www.u-blox.com/sites/default/files/products/documents/u-blox6_ReceiverDescrProtSpec_%28GPS.G6-SW-10018%29_Public.pdf" rel="nofollow">this</a>,
Emboss is meant for you.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">When should I not use Emboss?</h2><a id="user-content-when-should-i-not-use-emboss" class="anchor" aria-label="Permalink: When should I not use Emboss?" href="#when-should-i-not-use-emboss"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Emboss is not designed to handle text-based protocols; if you can use minicom or
telnet to connect to your device, and manually enter commands and see responses,
Emboss probably won't help you.</p>
<p dir="auto">Emboss is intended for cases where you do not control the data format.  If you
are defining your own format, you may be better off using <a href="https://developers.google.com/protocol-buffers/" rel="nofollow">Protocol
Buffers</a> or <a href="https://capnproto.org/" rel="nofollow">Cap'n
Proto</a> or <a href="http://bsonspec.org/" rel="nofollow">BSON</a> or some similar
system.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Why not just use packed structs?</h2><a id="user-content-why-not-just-use-packed-structs" class="anchor" aria-label="Permalink: Why not just use packed structs?" href="#why-not-just-use-packed-structs"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">In C++, packed structs are most common method of dealing with these kinds of
structures; however, they have a number of drawbacks compared to Emboss views:</p>
<ol dir="auto">
<li>Access to packed structs is not checked.  Emboss (by default) ensures that
you do not read or write out of bounds.</li>
<li>It is easy to accidentally trigger C++ undefined behavior using packed
structs, for example by not respecting the struct's alignment restrictions
or by running afoul of strict aliasing rules.  Emboss is designed to work
with misaligned data, and is careful to use strict-aliasing-safe constructs.</li>
<li>Packed structs do not handle variable-size arrays, nor arrays of
sub-byte-size fields, such as boolean flags.</li>
<li>Packed structs do not handle endianness; your code must be very careful to
correctly convert stored endianness to native.</li>
<li>Packed structs do not handle variable-sized fields, such as embedded
substructs with variable length.</li>
<li>Although unions can sometimes help, packed structs do not handle overlapping
fields well.</li>
<li>Although unions can sometimes help, packed structs do not handle optional
fields well.</li>
<li>Certain aspects of bitfields in C++, such as their exact placement within
the larger containing block, are implementation-defined.  Emboss always
reads and writes bitfields in a portable way.</li>
<li>Packed structs do not have support for conversion to human-readable text
format.</li>
<li>It is difficult to read the definition of a packed struct in order to
generate documentation, alternate representations, or support in languages
other than C and C++.</li>
</ol>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">What does Emboss <em>not</em> do?</h2><a id="user-content-what-does-emboss-not-do" class="anchor" aria-label="Permalink: What does Emboss not do?" href="#what-does-emboss-not-do"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Emboss does not help you transmit data over a wire -- you must use something
else to actually transmit bytes back and forth.  This is partly because there
are too many possible ways of communicating with devices, but also because it
allows you to manipulate structures independently of where they came from or
where they are going.</p>
<p dir="auto">Emboss does not help you interpret your data, or implement any kind of
higher-level logic.  It is strictly meant to help you turn bit patterns into
something suitable for your programming language to handle.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">What state is Emboss in?</h2><a id="user-content-what-state-is-emboss-in" class="anchor" aria-label="Permalink: What state is Emboss in?" href="#what-state-is-emboss-in"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Emboss is currently under development.  While it should be entirely ready for
many data formats, it may still be missing features.  If you find something that
Emboss can't handle, please contact <code>emboss-dev@google.com</code> to see if and when
support can be added.</p>
<p dir="auto">Emboss is not an officially supported Google product: while the Emboss authors
will try to answer feature requests, bug reports, and questions, there is no SLA
(service level agreement).</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Getting Started</h2><a id="user-content-getting-started" class="anchor" aria-label="Permalink: Getting Started" href="#getting-started"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Head over to the <a href="doc/guide.md">User Guide</a> to get started.</p>
</article></div>