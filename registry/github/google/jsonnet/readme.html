<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-jsonnet---the-data-templating-language" class="anchor" aria-hidden="true" tabindex="-1" href="#jsonnet---the-data-templating-language"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Jsonnet - The data templating language</h1>
<p dir="auto"><a href="https://travis-ci.org/google/jsonnet" rel="nofollow"><img src="https://camo.githubusercontent.com/a13232f5c4ed29e84d5822825640c7ca6e7cce0b92c1f14df5a5f7a8a8048292/68747470733a2f2f7472617669732d63692e6f72672f676f6f676c652f6a736f6e6e65742e7376673f6272616e63683d6d6173746572" alt="Build Status" data-canonical-src="https://travis-ci.org/google/jsonnet.svg?branch=master" style="max-width: 100%;"></a></p>
<p dir="auto">For an introduction to Jsonnet and documentation,
<a href="https://jsonnet.org" rel="nofollow">visit our website</a>.</p>
<p dir="auto">This repository contains the original implementation. You can also try <a href="https://github.com/google/go-jsonnet">go-jsonnet</a>, a newer implementation which in some cases is orders of magnitude faster.</p>
<p dir="auto">Visit our <a href="https://groups.google.com/g/jsonnet" rel="nofollow">discussion forum</a>.</p>
<h2 dir="auto"><a id="user-content-packages" class="anchor" aria-hidden="true" tabindex="-1" href="#packages"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Packages</h2>
<p dir="auto">Jsonnet is available on Homebrew:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="brew install jsonnet"><pre class="notranslate"><code>brew install jsonnet
</code></pre></div>
<p dir="auto"><a href="https://packages.msys2.org/base/mingw-w64-jsonnet" rel="nofollow">Jsonnet</a> is available on <a href="https://www.msys2.org/" rel="nofollow">MSYS2</a>:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="pacman -S mingw-w64-clang-i686-jsonnet"><pre class="notranslate"><code>pacman -S mingw-w64-clang-i686-jsonnet
</code></pre></div>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="pacman -S mingw-w64-clang-x86_64-jsonnet"><pre class="notranslate"><code>pacman -S mingw-w64-clang-x86_64-jsonnet
</code></pre></div>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="pacman -S mingw-w64-i686-jsonnet"><pre class="notranslate"><code>pacman -S mingw-w64-i686-jsonnet
</code></pre></div>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="pacman -S mingw-w64-x86_64-jsonnet"><pre class="notranslate"><code>pacman -S mingw-w64-x86_64-jsonnet
</code></pre></div>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="pacman -S mingw-w64-ucrt-x86_64-jsonnet"><pre class="notranslate"><code>pacman -S mingw-w64-ucrt-x86_64-jsonnet
</code></pre></div>
<p dir="auto">The Python binding is on pypi:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="pip install jsonnet"><pre class="notranslate"><code>pip install jsonnet
</code></pre></div>
<p dir="auto">You can also download and install Jsonnet using the <a href="https://github.com/Microsoft/vcpkg/">vcpkg</a>
dependency manager:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="git clone https://github.com/Microsoft/vcpkg.git
cd vcpkg
./bootstrap-vcpkg.sh
./vcpkg integrate install
vcpkg install jsonnet"><pre class="notranslate"><code>git clone https://github.com/Microsoft/vcpkg.git
cd vcpkg
./bootstrap-vcpkg.sh
./vcpkg integrate install
vcpkg install jsonnet
</code></pre></div>
<p dir="auto">The Jsonnet port in vcpkg is kept up to date by Microsoft team members and community contributors.
If the version is out of date, please <a href="https://github.com/Microsoft/vcpkg">create an issue or pull
request</a> on the vcpkg repository.</p>
<h2 dir="auto"><a id="user-content-building-jsonnet" class="anchor" aria-hidden="true" tabindex="-1" href="#building-jsonnet"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Building Jsonnet</h2>
<p dir="auto">You can use either GCC or Clang to build Jsonnet. Note that on recent versions
of macOS, <code>/usr/bin/gcc</code> and <code>/usr/bin/g++</code> are actually Clang, so there is no
difference.</p>
<h3 dir="auto"><a id="user-content-makefile" class="anchor" aria-hidden="true" tabindex="-1" href="#makefile"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Makefile</h3>
<p dir="auto">To build Jsonnet with GCC, run:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="make"><pre class="notranslate"><code>make
</code></pre></div>
<p dir="auto">To build Jsonnet with Clang, run:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="make CC=clang CXX=clang++"><pre class="notranslate"><code>make CC=clang CXX=clang++
</code></pre></div>
<p dir="auto">To run the output binary, run:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="./jsonnet"><pre class="notranslate"><code>./jsonnet
</code></pre></div>
<p dir="auto">To run the reformatter, run:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="./jsonnetfmt"><pre class="notranslate"><code>./jsonnetfmt
</code></pre></div>
<h3 dir="auto"><a id="user-content-bazel" class="anchor" aria-hidden="true" tabindex="-1" href="#bazel"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Bazel</h3>
<p dir="auto">Bazel builds are also supported.
Install <a href="https://www.bazel.io/versions/master/docs/install.html" rel="nofollow">Bazel</a> if it is
not installed already. Then, run the following command to build with GCC:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="bazel build -c opt //cmd:all"><pre class="notranslate"><code>bazel build -c opt //cmd:all
</code></pre></div>
<p dir="auto">To build with Clang, use one of these two options:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="env CC=clang CXX=clang++ bazel build -c opt //cmd:all

# OR

bazel build -c opt --action_env=CC=clang --action_env=CXX=clang++ //cmd:all"><pre class="notranslate"><code>env CC=clang CXX=clang++ bazel build -c opt //cmd:all

# OR

bazel build -c opt --action_env=CC=clang --action_env=CXX=clang++ //cmd:all
</code></pre></div>
<p dir="auto">This builds the <code>jsonnet</code> and <code>jsonnetfmt</code> targets defined in <a href="./cmd/BUILD"><code>cmd/BUILD</code></a>. To launch
the output binaries, run:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="bazel-bin/cmd/jsonnet
bazel-bin/cmd/jsonnetfmt"><pre class="notranslate"><code>bazel-bin/cmd/jsonnet
bazel-bin/cmd/jsonnetfmt
</code></pre></div>
<h3 dir="auto"><a id="user-content-cmake" class="anchor" aria-hidden="true" tabindex="-1" href="#cmake"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Cmake</h3>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="cmake . -Bbuild"><pre class="notranslate"><code>cmake . -Bbuild
</code></pre></div>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="cmake --build build --target run_tests"><pre class="notranslate"><code>cmake --build build --target run_tests
</code></pre></div>
<h2 dir="auto"><a id="user-content-contributing" class="anchor" aria-hidden="true" tabindex="-1" href="#contributing"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Contributing</h2>
<p dir="auto">See the <a href="https://jsonnet.org/learning/community.html#license" rel="nofollow">contributing page</a> on our website.</p>
<h2 dir="auto"><a id="user-content-developing-jsonnet" class="anchor" aria-hidden="true" tabindex="-1" href="#developing-jsonnet"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Developing Jsonnet</h2>
<h3 dir="auto"><a id="user-content-running-tests" class="anchor" aria-hidden="true" tabindex="-1" href="#running-tests"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Running tests</h3>
<p dir="auto">To run the comprehensive suite:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="make test"><pre class="notranslate"><code>make test
</code></pre></div>
<h3 dir="auto"><a id="user-content-locally-serving-the-website" class="anchor" aria-hidden="true" tabindex="-1" href="#locally-serving-the-website"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Locally serving the website</h3>
<p dir="auto">You need a <code>doc/js/libjsonnet.wasm</code> which can either be downloaded from the
production website:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="wget https://jsonnet.org/js/libjsonnet.wasm -O doc/js/libjsonnet.wasm"><pre class="notranslate"><code>wget https://jsonnet.org/js/libjsonnet.wasm -O doc/js/libjsonnet.wasm
</code></pre></div>
<p dir="auto">Or you can build it yourself, which requires checking out
<a href="https://github.com/google/go-jsonnet">go-jsonnet</a>.  See the README.md in
that repo for instructions.</p>
<p dir="auto">Then, from the root of the repository you can generate and serve the website using
<a href="https://jekyllrb.com/" rel="nofollow">Jekyll</a>:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="tools/scripts/serve_docs.sh"><pre class="notranslate"><code>tools/scripts/serve_docs.sh
</code></pre></div>
<p dir="auto">This should the website on localhost:8200, automatically rebuild when you change any underlying
files, and automatically refresh your browser when that happens.</p>
<p dir="auto">The standard library is documented in a structured format in <code>doc/_stdlib_gen/stdlib-content.jsonnet</code>.
The HTML (input for Jekyll) is regenerated using the following command:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="tools/scripts/update_web_content.sh"><pre class="notranslate"><code>tools/scripts/update_web_content.sh
</code></pre></div>
</article></div>