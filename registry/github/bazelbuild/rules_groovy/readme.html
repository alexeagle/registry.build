<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><p dir="auto"><a href="https://buildkite.com/bazel/rules-groovy-postsubmit" rel="nofollow"><img src="https://camo.githubusercontent.com/cfd507aef7ad963124b1f27e29037c8f890018a76f638f7fcb615bb5c8357e53/68747470733a2f2f62616467652e6275696c646b6974652e636f6d2f35373435343938616364353062393831316632626462326663323664656664336333663031626564393666666536666235612e737667" alt="Build status" data-canonical-src="https://badge.buildkite.com/5745498acd50b9811f2bdb2fc26defd3c3f01bed96ffe6fb5a.svg" style="max-width: 100%;"></a></p>
<h1 id="user-content-groovy-rules" dir="auto"><a class="heading-link" href="#groovy-rules">Groovy Rules<svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h1>
<div dir="auto">
  <h2 id="user-content-rules" dir="auto"><a class="heading-link" href="#rules">Rules<svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
  <ul dir="auto">
    <li><a href="#groovy_library">groovy_library</a></li>
    <li><a href="#groovy_and_java_library">groovy_and_java_library</a></li>
    <li><a href="#groovy_binary">groovy_binary</a></li>
    <li><a href="#groovy_junit_test">groovy_junit_test</a></li>
    <li><a href="#spock_test">spock_test</a></li>
  </ul>
</div>
<h2 id="user-content-overview" dir="auto"><a class="heading-link" href="#overview">Overview<svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p dir="auto">These build rules are used for building <a href="http://www.groovy-lang.org/" rel="nofollow">Groovy</a>
projects with Bazel. Groovy libraries may interoperate with and depend on Java
libraries and vice-versa.</p>
<p dir="auto"><a name="user-content-setup"></a></p>
<h2 id="user-content-setup" dir="auto"><a class="heading-link" href="#setup">Setup<svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p dir="auto">To be able to use the Groovy rules, you must provide bindings for the following
targets:</p>
<ul dir="auto">
<li><code>//external:groovy-sdk</code>, pointing at the
<a href="http://www.groovy-lang.org/download.html" rel="nofollow">Groovy SDK binaries</a></li>
<li><code>//external:groovy</code>, pointing at the Groovy core language jar</li>
<li><code>//external:junit</code>, pointing at JUnit (only required if using the test rules)</li>
<li><code>//external:spock</code>, pointing at Spock (only required if using <code>spock_test</code>)</li>
</ul>
<p dir="auto">The easiest way to do so is to add the following to your <code>WORKSPACE</code> file:</p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="load(&quot;@bazel_tools//tools/build_defs/repo:http.bzl&quot;, &quot;http_archive&quot;)
http_archive(
    name = &quot;io_bazel_rules_groovy&quot;,
    url = &quot;https://github.com/bazelbuild/rules_groovy/archive/0.0.6.tar.gz&quot;,
    sha256 = &quot;21c7172786623f280402d3b3a2fc92f36568afad5a4f6f5ea38fd1c6897aecf8&quot;,
    strip_prefix = &quot;rules_groovy-0.0.6&quot;,
)
load(&quot;@io_bazel_rules_groovy//groovy:repositories.bzl&quot;, &quot;rules_groovy_dependencies&quot;)
rules_groovy_dependencies()"><pre><span class="pl-en">load</span>(<span class="pl-s">"@bazel_tools//tools/build_defs/repo:http.bzl"</span>, <span class="pl-s">"http_archive"</span>)
<span class="pl-en">http_archive</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"io_bazel_rules_groovy"</span>,
    <span class="pl-s1">url</span> <span class="pl-c1">=</span> <span class="pl-s">"https://github.com/bazelbuild/rules_groovy/archive/0.0.6.tar.gz"</span>,
    <span class="pl-s1">sha256</span> <span class="pl-c1">=</span> <span class="pl-s">"21c7172786623f280402d3b3a2fc92f36568afad5a4f6f5ea38fd1c6897aecf8"</span>,
    <span class="pl-s1">strip_prefix</span> <span class="pl-c1">=</span> <span class="pl-s">"rules_groovy-0.0.6"</span>,
)
<span class="pl-en">load</span>(<span class="pl-s">"@io_bazel_rules_groovy//groovy:repositories.bzl"</span>, <span class="pl-s">"rules_groovy_dependencies"</span>)
<span class="pl-en">rules_groovy_dependencies</span>()</pre></div>
<p dir="auto"><a name="user-content-basic-example"></a></p>
<h2 id="user-content-basic-example" dir="auto"><a class="heading-link" href="#basic-example">Basic Example<svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p dir="auto">Suppose you have the following directory structure for a simple Groovy and Java
application:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="[workspace]/
    WORKSPACE
    src/main/groovy/
        app/
            BUILD
            GroovyApp.groovy
        lib/
            BUILD
            GroovyLib.groovy
            JavaLib.java
    src/test/groovy/
        lib/
            BUILD
            LibTest.groovy"><pre class="notranslate"><code>[workspace]/
    WORKSPACE
    src/main/groovy/
        app/
            BUILD
            GroovyApp.groovy
        lib/
            BUILD
            GroovyLib.groovy
            JavaLib.java
    src/test/groovy/
        lib/
            BUILD
            LibTest.groovy
</code></pre></div>
<p dir="auto">Then, to build the code under src/main/groovy/lib/, your
<code>src/main/groovy/lib/BUILD</code> can look like this:</p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="load(&quot;@io_bazel_rules_groovy//groovy:groovy.bzl&quot;, &quot;groovy_library&quot;)

groovy_library(
    name = &quot;groovylib&quot;,
    srcs = glob([&quot;*.groovy&quot;]),
    visibility = [&quot;//visibility:public&quot;],
    deps = [
        &quot;:javalib&quot;,
    ],
)

java_library(
    name = &quot;javalib&quot;,
    srcs = glob([&quot;*.java&quot;]),
)"><pre><span class="pl-en">load</span>(<span class="pl-s">"@io_bazel_rules_groovy//groovy:groovy.bzl"</span>, <span class="pl-s">"groovy_library"</span>)

<span class="pl-en">groovy_library</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"groovylib"</span>,
    <span class="pl-s1">srcs</span> <span class="pl-c1">=</span> <span class="pl-en">glob</span>([<span class="pl-s">"*.groovy"</span>]),
    <span class="pl-s1">visibility</span> <span class="pl-c1">=</span> [<span class="pl-s">"//visibility:public"</span>],
    <span class="pl-s1">deps</span> <span class="pl-c1">=</span> [
        <span class="pl-s">":javalib"</span>,
    ],
)

<span class="pl-en">java_library</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"javalib"</span>,
    <span class="pl-s1">srcs</span> <span class="pl-c1">=</span> <span class="pl-en">glob</span>([<span class="pl-s">"*.java"</span>]),
)</pre></div>
<p dir="auto">For simplicity, you can combine Groovy and Java sources into a single library
using <code>groovy_and_java_library</code>. Note that this allows the Groovy code to
reference the Java code, but not vice-versa. Your <code>src/main/groovy/lib/BUILD</code>
file would then look like this:</p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="load(&quot;@io_bazel_rules_groovy//groovy:groovy.bzl&quot;, &quot;groovy_and_java_library&quot;)

groovy_and_java_library(
    name = &quot;lib&quot;,
    srcs = glob([&quot;*.groovy&quot;, &quot;*.java&quot;]),
)"><pre><span class="pl-en">load</span>(<span class="pl-s">"@io_bazel_rules_groovy//groovy:groovy.bzl"</span>, <span class="pl-s">"groovy_and_java_library"</span>)

<span class="pl-en">groovy_and_java_library</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"lib"</span>,
    <span class="pl-s1">srcs</span> <span class="pl-c1">=</span> <span class="pl-en">glob</span>([<span class="pl-s">"*.groovy"</span>, <span class="pl-s">"*.java"</span>]),
)</pre></div>
<p dir="auto">To build the application under src/main/groovy/app, you can define a binary
using <code>groovy_binary</code> as follows:</p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="load(&quot;@io_bazel_rules_groovy//groovy:groovy.bzl&quot;, &quot;groovy_binary&quot;)

groovy_binary(
    name = &quot;GroovyApp&quot;,
    srcs = glob([&quot;*.groovy&quot;]),
    main_class = &quot;app.GroovyApp&quot;,
    deps = [
         &quot;//src/main/groovy/lib:groovylib&quot;,
    ],
)"><pre><span class="pl-en">load</span>(<span class="pl-s">"@io_bazel_rules_groovy//groovy:groovy.bzl"</span>, <span class="pl-s">"groovy_binary"</span>)

<span class="pl-en">groovy_binary</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"GroovyApp"</span>,
    <span class="pl-s1">srcs</span> <span class="pl-c1">=</span> <span class="pl-en">glob</span>([<span class="pl-s">"*.groovy"</span>]),
    <span class="pl-s1">main_class</span> <span class="pl-c1">=</span> <span class="pl-s">"app.GroovyApp"</span>,
    <span class="pl-s1">deps</span> <span class="pl-c1">=</span> [
         <span class="pl-s">"//src/main/groovy/lib:groovylib"</span>,
    ],
)</pre></div>
<p dir="auto">Finally, you can write tests in Groovy using <code>groovy_test</code>. The <code>srcs</code> of this
rule will be converted into names of class files that are passed to JUnit. For
this to work, the test sources must be under src/test/groovy or src/test/java.
To build the test under src/test/groovy/lib, your BUILD file would look like
this:</p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="load(&quot;@io_bazel_rules_groovy//groovy:groovy.bzl&quot;, &quot;groovy_test&quot;, &quot;groovy_library&quot;)


groovy_library(
  name = &quot;testlib&quot;,
  srcs = glob([&quot;*.groovy&quot;]),
)

groovy_test(
  name = &quot;LibTest&quot;,
  srcs = [&quot;LibTest.groovy&quot;],
  deps = [&quot;:testlib&quot;],
)"><pre><span class="pl-en">load</span>(<span class="pl-s">"@io_bazel_rules_groovy//groovy:groovy.bzl"</span>, <span class="pl-s">"groovy_test"</span>, <span class="pl-s">"groovy_library"</span>)


<span class="pl-en">groovy_library</span>(
  <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"testlib"</span>,
  <span class="pl-s1">srcs</span> <span class="pl-c1">=</span> <span class="pl-en">glob</span>([<span class="pl-s">"*.groovy"</span>]),
)

<span class="pl-en">groovy_test</span>(
  <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"LibTest"</span>,
  <span class="pl-s1">srcs</span> <span class="pl-c1">=</span> [<span class="pl-s">"LibTest.groovy"</span>],
  <span class="pl-s1">deps</span> <span class="pl-c1">=</span> [<span class="pl-s">":testlib"</span>],
)</pre></div>
<p dir="auto">If you're using JUnit or Spock, see
<a href="#groovy_junit_test">groovy_junit_test</a> or
<a href="#spock_test">spock_test</a> for wrappers that make testing with these
systems slightly more convenient.</p>
<p dir="auto"><a name="user-content-groovy_library"></a></p>
<h2 id="user-content-groovy_library" dir="auto"><a class="heading-link" href="#groovy_library">groovy_library<svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="groovy_library(name, srcs, deps, **kwargs)"><pre><span class="pl-en">groovy_library</span>(<span class="pl-s1">name</span>, <span class="pl-s1">srcs</span>, <span class="pl-s1">deps</span>, <span class="pl-c1">**</span><span class="pl-s1">kwargs</span>)</pre></div>
<table>
  
    
    
  
  <thead>
    <tr>
      <th colspan="2">Attributes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>name</code></td>
      <td>
        <code>Name, required</code>
        <p dir="auto">A unique name for this rule.</p>
      </td>
    </tr>
    <tr>
      <td><code>srcs</code></td>
      <td>
        <code>List of labels, required</code>
        <p dir="auto">List of .groovy source files used to build the library.</p>
      </td>
    </tr>
    <tr>
      <td><code>deps</code></td>
      <td>
        <code>List of labels or .jar files, optional</code>
        <p dir="auto">
          List of other libraries to be included on the compile-time classpath
          when building this library.
        </p>
        <p dir="auto">
          These can be either other `groovy_library` targets, `java_library`
          targets, `groovy_and_java_library` targets, or raw .jar files.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>**kwargs</code></td>
      <td>
        <code>see <a href="http://bazel.io/docs/be/java.html#java_import" rel="nofollow">java_binary</a></code>
        <p dir="auto">
          The other arguments of this rule will be passed to the `java_import`
          that wraps the groovy library.
        </p>
      </td>
    </tr>
  </tbody>
</table>
<p dir="auto"><a name="user-content-groovy_and_java_library"></a></p>
<h2 id="user-content-groovy_and_java_library" dir="auto"><a class="heading-link" href="#groovy_and_java_library">groovy_and_java_library<svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="groovy_and_java_library(name, srcs, deps, **kwargs)"><pre><span class="pl-en">groovy_and_java_library</span>(<span class="pl-s1">name</span>, <span class="pl-s1">srcs</span>, <span class="pl-s1">deps</span>, <span class="pl-c1">**</span><span class="pl-s1">kwargs</span>)</pre></div>
<table>
  
    
    
  
  <thead>
    <tr>
      <th colspan="2">Attributes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>name</code></td>
      <td>
        <code>Name, required</code>
        <p dir="auto">A unique name for this rule.</p>
      </td>
    </tr>
    <tr>
      <td><code>srcs</code></td>
      <td>
        <code>List of labels, required</code>
        <p dir="auto">List of .groovy and .java source files used to build the library.</p>
      </td>
    </tr>
    <tr>
      <td><code>deps</code></td>
      <td>
        <code>List of labels or .jar files, optional</code>
        <p dir="auto">
          List of other libraries to be included on the compile-time classpath
          when building this library.
        </p>
        <p dir="auto">
          These can be either other `groovy_library` targets, `java_library`
          targets, `groovy_and_java_library` targets, or raw .jar files.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>**kwargs</code></td>
      <td>
        <code>see <a href="http://bazel.io/docs/be/java.html#java_import" rel="nofollow">java_binary</a></code>
        <p dir="auto">
          The other arguments of this rule will be passed to the `java_import`
          that wraps the groovy library.
        </p>
      </td>
    </tr>
  </tbody>
</table>
<p dir="auto"><a name="user-content-groovy_binary"></a></p>
<h2 id="user-content-groovy_binary" dir="auto"><a class="heading-link" href="#groovy_binary">groovy_binary<svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="groovy_binary(name, main_class, srcs, deps, **kwargs)"><pre><span class="pl-en">groovy_binary</span>(<span class="pl-s1">name</span>, <span class="pl-s1">main_class</span>, <span class="pl-s1">srcs</span>, <span class="pl-s1">deps</span>, <span class="pl-c1">**</span><span class="pl-s1">kwargs</span>)</pre></div>
<table>
  
    
    
  
  <thead>
    <tr>
      <th colspan="2">Attributes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>name</code></td>
      <td>
        <code>Name, required</code>
        <p dir="auto">A unique name for this rule.</p>
      </td>
    </tr>
    <tr>
      <td><code>main_class</code></td>
      <td>
        <code>String, required</code>
        <p dir="auto">
          The name of either a class containing a `main` method or a Groovy
          script file to use as an entry point (see
          <a href="http://www.groovy-lang.org/structure.html#_scripts_versus_classes" rel="nofollow">
          here</a> for more details on scripts vs. classes).
        </p>
      </td>
    </tr>
    <tr>
      <td><code>srcs</code></td>
      <td>
        <code>List of labels, required</code>
        <p dir="auto">List of .groovy source files used to build the application.</p>
      </td>
    </tr>
    <tr>
      <td><code>deps</code></td>
      <td>
        <code>List of labels or .jar files, optional</code>
        <p dir="auto">
          List of other libraries to be included on both the compile-time
          classpath when building this application and the runtime classpath
          when executing it.
        </p>
        <p dir="auto">
          These can be `groovy_library` targets, `java_library` targets,
          `groovy_and_java_library` targets, or raw .jar files.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>**kwargs</code></td>
      <td>
        <code>see <a href="http://bazel.io/docs/be/java.html#java_binary" rel="nofollow">java_binary</a></code>
        <p dir="auto">
          The other arguments of this rule will be passed to the `java_binary`
          underlying the `groovy_binary`.
        </p>
      </td>
    </tr>
  </tbody>
</table>
<p dir="auto"><a name="user-content-groovy_test"></a></p>
<h2 id="user-content-groovy_test" dir="auto"><a class="heading-link" href="#groovy_test">groovy_test<svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="groovy_test(name, deps, srcs, data, resources, jvm_flags, size, tags)"><pre><span class="pl-en">groovy_test</span>(<span class="pl-s1">name</span>, <span class="pl-s1">deps</span>, <span class="pl-s1">srcs</span>, <span class="pl-s1">data</span>, <span class="pl-s1">resources</span>, <span class="pl-s1">jvm_flags</span>, <span class="pl-s1">size</span>, <span class="pl-s1">tags</span>)</pre></div>
<table>
  
    
    
  
  <thead>
    <tr>
      <th colspan="2">Attributes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>name</code></td>
      <td>
        <code>Name, required</code>
        <p dir="auto">A unique name for this rule.</p>
      </td>
    </tr>
    <tr>
      <td><code>srcs</code></td>
      <td>
        <code>List of labels, required</code>
        <p dir="auto">
          List of .groovy source files whose names will be converted to classes
          passed to JUnitCore.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>deps</code></td>
      <td>
        <code>List of labels or .jar files, optional</code>
        <p dir="auto">
          List of libraries to be included on both the compile-time classpath
          when building this test and on the runtime classpath when executing it.
        </p>
        <p dir="auto">
          These can be `groovy_library` targets, `java_library` targets,
          `groovy_and_java_library` targets, or raw .jar files.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>resources</code></td>
      <td>
        <code>List of labels, optional</code>
        <p dir="auto">
          A list of data files to include on the test's classpath. This is
          accomplished by creating a `java_library` containing only the specified
          resources and including that library in the test's dependencies.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>jvm_flags</code></td>
      <td>
        <code>List of strings, optional</code>
        <p dir="auto">
          A list of flags to embed in the wrapper script generated for running
          this binary.
        </p>
      </td>
    </tr>
  </tbody>
</table>
<p dir="auto"><a name="user-content-groovy_junit_test"></a></p>
<h2 id="user-content-groovy_junit_test" dir="auto"><a class="heading-link" href="#groovy_junit_test">groovy_junit_test<svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="groovy_junit_test(name, tests, deps, groovy_srcs, java_srcs, data, resources, jvm_flags, size, tags)"><pre><span class="pl-en">groovy_junit_test</span>(<span class="pl-s1">name</span>, <span class="pl-s1">tests</span>, <span class="pl-s1">deps</span>, <span class="pl-s1">groovy_srcs</span>, <span class="pl-s1">java_srcs</span>, <span class="pl-s1">data</span>, <span class="pl-s1">resources</span>, <span class="pl-s1">jvm_flags</span>, <span class="pl-s1">size</span>, <span class="pl-s1">tags</span>)</pre></div>
<table>
  
    
    
  
  <thead>
    <tr>
      <th colspan="2">Attributes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>name</code></td>
      <td>
        <code>Name, required</code>
        <p dir="auto">A unique name for this rule.</p>
      </td>
    </tr>
    <tr>
      <td><code>tests</code></td>
      <td>
        <code>List of labels, required</code>
        <p dir="auto">
          List of .groovy source files that will be used as test specifications
          that will be executed by JUnit.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>groovy_srcs</code></td>
      <td>
        <code>List of labels, optional</code>
        <p dir="auto">
          List of additional .groovy source files that will be used to build the
          test.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>java_srcs</code></td>
      <td>
        <code>List of labels, optional</code>
        <p dir="auto">
          List of additional .java source files that will be used to build the
          test.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>deps</code></td>
      <td>
        <code>List of labels or .jar files, optional</code>
        <p dir="auto">
          List of libraries to be included on both the compile-time classpath
          when building this test and on the runtime classpath when executing it.
        </p>
        <p dir="auto">
          These can be `groovy_library` targets, `java_library` targets,
          `groovy_and_java_library` targets, or raw .jar files.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>resources</code></td>
      <td>
        <code>List of labels, optional</code>
        <p dir="auto">
          A list of data files to include on the test's classpath. This is
          accomplished by creating a `java_library` containing only the specified
          resources and including that library in the test's dependencies.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>jvm_flags</code></td>
      <td>
        <code>List of strings, optional</code>
        <p dir="auto">
          A list of flags to embed in the wrapper script generated for running
          this binary.
        </p>
      </td>
    </tr>
  </tbody>
</table>
<p dir="auto"><a name="user-content-spock_test"></a></p>
<h2 id="user-content-spock_test" dir="auto"><a class="heading-link" href="#spock_test">spock_test<svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="spock_test(name, specs, deps, groovy_srcs, java_srcs, data, resources, jvm_flags, size, tags)"><pre><span class="pl-en">spock_test</span>(<span class="pl-s1">name</span>, <span class="pl-s1">specs</span>, <span class="pl-s1">deps</span>, <span class="pl-s1">groovy_srcs</span>, <span class="pl-s1">java_srcs</span>, <span class="pl-s1">data</span>, <span class="pl-s1">resources</span>, <span class="pl-s1">jvm_flags</span>, <span class="pl-s1">size</span>, <span class="pl-s1">tags</span>)</pre></div>
<table>
  
    
    
  
  <thead>
    <tr>
      <th colspan="2">Attributes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>name</code></td>
      <td>
        <code>Name, required</code>
        <p dir="auto">A unique name for this rule.</p>
      </td>
    </tr>
    <tr>
      <td><code>specs</code></td>
      <td>
        <code>List of labels, required</code>
        <p dir="auto">
          List of .groovy source files that will be used as test specifications
          that will be executed by JUnit.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>groovy_srcs</code></td>
      <td>
        <code>List of labels, optional</code>
        <p dir="auto">
          List of additional .groovy source files that will be used to build the
          test.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>java_srcs</code></td>
      <td>
        <code>List of labels, optional</code>
        <p dir="auto">
          List of additional .java source files that will be used to build the
          test.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>deps</code></td>
      <td>
        <code>List of labels or .jar files, optional</code>
        <p dir="auto">
          List of libraries to be included on both the compile-time classpath
          when building this test and on the runtime classpath when executing it.
        </p>
        <p dir="auto">
          These can be `groovy_library` targets, `java_library` targets,
          `groovy_and_java_library` targets, or raw .jar files.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>resources</code></td>
      <td>
        <code>List of labels, optional</code>
        <p dir="auto">
          A list of data files to include on the test's classpath. This is
          accomplished by creating a `java_library` containing only the specified
          resources and including that library in the test's dependencies.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>jvm_flags</code></td>
      <td>
        <code>List of strings, optional</code>
        <p dir="auto">
          A list of flags to embed in the wrapper script generated for running
          this binary.
        </p>
      </td>
    </tr>
  </tbody>
</table>
</article></div>