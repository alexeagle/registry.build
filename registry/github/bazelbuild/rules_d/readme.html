<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><p dir="auto"><a href="https://buildkite.com/bazel/rules-d" rel="nofollow"><img src="https://camo.githubusercontent.com/c9e862951abfd6b88d985527e25f1fdc0b4940dae30ebeafce5b8fc224a6b3de/68747470733a2f2f62616467652e6275696c646b6974652e636f6d2f32353564643632326666353634376236306230386236353738653439646638306637386339623064383866323735383439312e737667" alt="Build status" data-canonical-src="https://badge.buildkite.com/255dd622ff5647b60b08b6578e49df80f78c9b0d88f2758491.svg" style="max-width: 100%;"></a></p>
<h1 dir="auto"><a id="user-content-d-rules" class="anchor" aria-hidden="true" tabindex="-1" href="#d-rules"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>D rules</h1>
<h2 dir="auto"><a id="user-content-status" class="anchor" aria-hidden="true" tabindex="-1" href="#status"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Status</h2>
<p dir="auto">We make sure this repository works with the latest version of Bazel, but no
other development is planned.</p>
<p dir="auto">Volunteers are welcome. If you want to use the rules, consider contributing to
this repository and becoming a maintainer.</p>
<h2 dir="auto"><a id="user-content-rules" class="anchor" aria-hidden="true" tabindex="-1" href="#rules"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Rules</h2>
<div dir="auto">
  <ul dir="auto">
    <li><a href="#d_library">d_library</a></li>
    <li><a href="#d_source_library">d_source_library</a></li>
    <li><a href="#d_binary">d_binary</a></li>
    <li><a href="#d_test">d_test</a></li>
    <li><a href="#d_docs">d_docs</a></li>
  </ul>
</div>
<h2 dir="auto"><a id="user-content-setup" class="anchor" aria-hidden="true" tabindex="-1" href="#setup"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Setup</h2>
<p dir="auto">To use the D rules, add the following to your <code>WORKSPACE</code> file to add the
external repositories for the D toolchain:</p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="load(&quot;@bazel_tools//tools/build_defs/repo:http.bzl&quot;, &quot;http_archive&quot;)
http_archive(
    name = &quot;io_bazel_rules_d&quot;,
    urls = [&quot;https://github.com/bazelbuild/rules_d/archive/bcf137e3c9381545ce54715632bc1d31c51ee4da.tar.gz&quot;],
    sha256 = &quot;a32847bf2ae634563dece49c4dc8353956b64ba5c2d01ce811ea243e1a21b5b7&quot;,
    strip_prefix = &quot;rules_d-bcf137e3c9381545ce54715632bc1d31c51ee4da&quot;,
)

load(&quot;@io_bazel_rules_d//d:d.bzl&quot;, &quot;d_repositories&quot;)
d_repositories()"><pre><span class="pl-en">load</span>(<span class="pl-s">"@bazel_tools//tools/build_defs/repo:http.bzl"</span>, <span class="pl-s">"http_archive"</span>)
<span class="pl-en">http_archive</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"io_bazel_rules_d"</span>,
    <span class="pl-s1">urls</span> <span class="pl-c1">=</span> [<span class="pl-s">"https://github.com/bazelbuild/rules_d/archive/bcf137e3c9381545ce54715632bc1d31c51ee4da.tar.gz"</span>],
    <span class="pl-s1">sha256</span> <span class="pl-c1">=</span> <span class="pl-s">"a32847bf2ae634563dece49c4dc8353956b64ba5c2d01ce811ea243e1a21b5b7"</span>,
    <span class="pl-s1">strip_prefix</span> <span class="pl-c1">=</span> <span class="pl-s">"rules_d-bcf137e3c9381545ce54715632bc1d31c51ee4da"</span>,
)

<span class="pl-en">load</span>(<span class="pl-s">"@io_bazel_rules_d//d:d.bzl"</span>, <span class="pl-s">"d_repositories"</span>)
<span class="pl-en">d_repositories</span>()</pre></div>
<h2 dir="auto"><a id="user-content-roadmap" class="anchor" aria-hidden="true" tabindex="-1" href="#roadmap"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Roadmap</h2>
<ul dir="auto">
<li>Generate documentation using <a href="https://github.com/rejectedsoftware/ddox"><code>ddox</code></a>
for <code>d_docs</code> rule.</li>
<li>Support for other options as defined in the <a href="http://code.dlang.org/package-format?lang=json" rel="nofollow">Dub package
format</a></li>
<li>Support for specifying different configurations of a library, closer to
<a href="http://code.dlang.org/package-format?lang=json#configurations" rel="nofollow">Dub's model for configurations</a></li>
<li>Workspace rule for retrieving dependencies from <a href="http://code.dlang.org/" rel="nofollow">Dub</a></li>
</ul>
<p dir="auto"><a name="user-content-d_library"></a></p>
<h2 dir="auto"><a id="user-content-d_library" class="anchor" aria-hidden="true" tabindex="-1" href="#d_library"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>d_library</h2>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="d_library(name, srcs, deps, includes, linkopts, versions)"><pre><span class="pl-en">d_library</span>(<span class="pl-s1">name</span>, <span class="pl-s1">srcs</span>, <span class="pl-s1">deps</span>, <span class="pl-s1">includes</span>, <span class="pl-s1">linkopts</span>, <span class="pl-s1">versions</span>)</pre></div>
<table>
  
    
    
  
  <thead>
    <tr>
      <th colspan="2">Attributes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>name</code></td>
      <td>
        <code>Name, required</code>
        <p dir="auto">A unique name for this rule.</p>
        <p dir="auto">
          This name will be used as the name of the library built by this rule.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>srcs</code></td>
      <td>
        <code>List of labels, required</code>
        <p dir="auto">List of D <code>.d</code> source files used to build the library.</p>
      </td>
    </tr>
    <tr>
      <td><code>deps</code></td>
      <td>
        <code>List of labels, optional</code>
        <p dir="auto">List of libraries to be linked to this library target.</p>
        <p dir="auto">
          These can either be other <code>d_library</code> targets,
          source-only <code>d_source_library</code> targets, or
          <code>cc_library</code> targets if linking a native library.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>imports</code></td>
      <td>
        <code>List of strings, optional</code>
        <p dir="auto">List of import dirs to add to the compile line.</p>
        <p dir="auto">
          These will be passed to the D compiler via <code>-I</code> flags.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>linkopts</code></td>
      <td>
        <code>List of strings, optional</code>
        <p dir="auto">List of flags that are added to the D linker command.</p>
        <p dir="auto">
          These will be passed to the D compiler via <code>-L</code> flags.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>versions</code></td>
      <td>
        <code>List of strings, optional</code>
        <p dir="auto">List of versions to be defined during compilation.</p>
        <p dir="auto">
          Versions are used for conditional compilation and are enabled in the
          code using <code>version</code> condition blocks. These versions
          listed here will be passed to the D compiler using
          <code>-version</code> flags.
        </p>
      </td>
    </tr>
  </tbody>
</table>
<h3 dir="auto"><a id="user-content-example" class="anchor" aria-hidden="true" tabindex="-1" href="#example"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Example</h3>
<p dir="auto">Suppose you have the following directory structure for a D project:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="[workspace]/
    WORKSPACE
    foo/
        BUILD
        foo.d
        bar.d
        baz.d"><pre class="notranslate"><code>[workspace]/
    WORKSPACE
    foo/
        BUILD
        foo.d
        bar.d
        baz.d
</code></pre></div>
<p dir="auto">The library <code>foo</code> is built using a <code>d_library</code> target:</p>
<p dir="auto"><code>foo/BUILD</code>:</p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="load(&quot;@io_bazel_rules_d//d:d.bzl&quot;, &quot;d_library&quot;)

d_library(
    name = &quot;foo&quot;,
    srcs = [
        &quot;foo.d&quot;,
        &quot;bar.d&quot;,
        &quot;baz.d&quot;,
    ],
)"><pre><span class="pl-en">load</span>(<span class="pl-s">"@io_bazel_rules_d//d:d.bzl"</span>, <span class="pl-s">"d_library"</span>)

<span class="pl-en">d_library</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"foo"</span>,
    <span class="pl-s1">srcs</span> <span class="pl-c1">=</span> [
        <span class="pl-s">"foo.d"</span>,
        <span class="pl-s">"bar.d"</span>,
        <span class="pl-s">"baz.d"</span>,
    ],
)</pre></div>
<p dir="auto"><a name="user-content-d_source_library"></a></p>
<h2 dir="auto"><a id="user-content-d_source_library" class="anchor" aria-hidden="true" tabindex="-1" href="#d_source_library"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>d_source_library</h2>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="d_source_library(name, srcs, deps, includes, linkopts, versions)"><pre><span class="pl-en">d_source_library</span>(<span class="pl-s1">name</span>, <span class="pl-s1">srcs</span>, <span class="pl-s1">deps</span>, <span class="pl-s1">includes</span>, <span class="pl-s1">linkopts</span>, <span class="pl-s1">versions</span>)</pre></div>
<table>
  
    
    
  
  <thead>
    <tr>
      <th colspan="2">Attributes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>name</code></td>
      <td>
        <code>Name, required</code>
        <p dir="auto">A unique name for this rule.</p>
      </td>
    </tr>
    <tr>
      <td><code>srcs</code></td>
      <td>
        <code>List of labels, required</code>
        <p dir="auto">
          List of D <code>.d</code> source files that comprises this source
          library target.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>deps</code></td>
      <td>
        <code>List of labels, optional</code>
        <p dir="auto">List of library targets depended on by this target.</p>
        <p dir="auto">
          These can either be other <code>d_source_library</code> targets or
          <code>cc_library</code> targets, such as when this source library
          target implements the D interface for a native library. Any native
          libraries will be linked by <code>d_library</code> targets that
          depend on this target.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>imports</code></td>
      <td>
        <code>List of strings, optional</code>
        <p dir="auto">List of import dirs to add to the compile line.</p>
        <p dir="auto">
          These will be passed to the D compiler via <code>-I</code> flags for
          any <code>d_library</code> targets that depend on this target.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>linkopts</code></td>
      <td>
        <code>List of strings, optional</code>
        <p dir="auto">List of flags that are added to the D linker command.</p>
        <p dir="auto">
          These will be passed to the D compiler via <code>-L</code> flags for
          any <code>d_library</code> targets that depend on this target.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>versions</code></td>
      <td>
        <code>List of strings, optional</code>
        <p dir="auto">List of version flags to be defined during compilation.</p>
        <p dir="auto">
          Versions are used for conditional compilation and are enabled in the
          code using <code>version</code> condition blocks. These versions
          listed here will be passed to the D compiler using
          <code>-version</code> flags for any <code>d_library</code> targets
          that depend on this target.
        </p>
      </td>
    </tr>
  </tbody>
</table>
<h3 dir="auto"><a id="user-content-example-1" class="anchor" aria-hidden="true" tabindex="-1" href="#example-1"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Example</h3>
<p dir="auto">Suppose you have the following directory structure for a project building a
C library and a <a href="http://dlang.org/interfaceToC.html" rel="nofollow">D interface</a> for the C
library:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="[workspace]/
    WORKSPACE
    greeter/
        BUILD
        native_greeter.c
        native_greeter.h
        native_greeter.d
    hello_world
        BUILD
        hello_world.d"><pre class="notranslate"><code>[workspace]/
    WORKSPACE
    greeter/
        BUILD
        native_greeter.c
        native_greeter.h
        native_greeter.d
    hello_world
        BUILD
        hello_world.d
</code></pre></div>
<p dir="auto">Build the C library using the <code>cc_library</code> rule and then use the
<code>d_source_library</code> to define the target for the D interface for the C
<code>native_greeter</code> library:</p>
<p dir="auto"><code>greeter/BUILD</code>:</p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="load(&quot;@io_bazel_rules_d//d:d.bzl&quot;, &quot;d_source_library&quot;)

cc_library(
    name = &quot;native_greeter_lib&quot;,
    srcs = [&quot;native_greeter.c&quot;],
    hdrs = [&quot;native_greeter.h&quot;],
)

d_source_library(
    name = &quot;native_greeter&quot;,
    srcs = [&quot;native_greeter.d&quot;],
    deps = [&quot;:native_greeter_lib&quot;],
)"><pre><span class="pl-en">load</span>(<span class="pl-s">"@io_bazel_rules_d//d:d.bzl"</span>, <span class="pl-s">"d_source_library"</span>)

<span class="pl-en">cc_library</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"native_greeter_lib"</span>,
    <span class="pl-s1">srcs</span> <span class="pl-c1">=</span> [<span class="pl-s">"native_greeter.c"</span>],
    <span class="pl-s1">hdrs</span> <span class="pl-c1">=</span> [<span class="pl-s">"native_greeter.h"</span>],
)

<span class="pl-en">d_source_library</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"native_greeter"</span>,
    <span class="pl-s1">srcs</span> <span class="pl-c1">=</span> [<span class="pl-s">"native_greeter.d"</span>],
    <span class="pl-s1">deps</span> <span class="pl-c1">=</span> [<span class="pl-s">":native_greeter_lib"</span>],
)</pre></div>
<p dir="auto">Other targets can directly depend on the <code>d_source_library</code> target to link
the C library:</p>
<p dir="auto"><code>hello_world/BUILD</code>:</p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="load(&quot;@io_bazel_rules_d//d:d.bzl&quot;, &quot;d_source_library&quot;)

d_binary(
    name = &quot;hello_world&quot;,
    srcs = [&quot;hello_world.d&quot;],
    deps = [&quot;//greeter:native_greeter&quot;],
)"><pre><span class="pl-en">load</span>(<span class="pl-s">"@io_bazel_rules_d//d:d.bzl"</span>, <span class="pl-s">"d_source_library"</span>)

<span class="pl-en">d_binary</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"hello_world"</span>,
    <span class="pl-s1">srcs</span> <span class="pl-c1">=</span> [<span class="pl-s">"hello_world.d"</span>],
    <span class="pl-s1">deps</span> <span class="pl-c1">=</span> [<span class="pl-s">"//greeter:native_greeter"</span>],
)</pre></div>
<p dir="auto"><a name="user-content-d_binary"></a></p>
<h2 dir="auto"><a id="user-content-d_binary" class="anchor" aria-hidden="true" tabindex="-1" href="#d_binary"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>d_binary</h2>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="d_binary(name, srcs, deps, includes, linkopts, versions)"><pre><span class="pl-en">d_binary</span>(<span class="pl-s1">name</span>, <span class="pl-s1">srcs</span>, <span class="pl-s1">deps</span>, <span class="pl-s1">includes</span>, <span class="pl-s1">linkopts</span>, <span class="pl-s1">versions</span>)</pre></div>
<table>
  
    
    
  
  <thead>
    <tr>
      <th colspan="2">Attributes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>name</code></td>
      <td>
        <code>Name, required</code>
        <p dir="auto">A unique name for this rule.</p>
        <p dir="auto">
          This name will be used as the name of the binary built by this rule.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>srcs</code></td>
      <td>
        <code>List of labels, required</code>
        <p dir="auto">List of D <code>.d</code> source files used to build the binary.</p>
      </td>
    </tr>
    <tr>
      <td><code>deps</code></td>
      <td>
        <code>List of labels, optional</code>
        <p dir="auto">List of libraries to be linked to this binary target.</p>
        <p dir="auto">
          These can either be other <code>d_library</code> targets,
          source-only <code>d_source_library</code> targets, or
          <code>cc_library</code> targets if linking a native library.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>imports</code></td>
      <td>
        <code>List of strings, optional</code>
        <p dir="auto">List of import dirs to add to the compile line.</p>
        <p dir="auto">
          These will be passed to the D compiler via <code>-I</code> flags.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>linkopts</code></td>
      <td>
        <code>List of strings, optional</code>
        <p dir="auto">List of flags that are added to the D linker command.</p>
        <p dir="auto">
          These will be passed to the D compiler via <code>-L</code> flags.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>versions</code></td>
      <td>
        <code>List of strings, optional</code>
        <p dir="auto">List of versions to be defined during compilation.</p>
        <p dir="auto">
          Versions are used for conditional compilation and are enabled in the
          code using <code>version</code> condition blocks. These versions
          listed here will be passed to the D compiler using
          <code>-version</code> flags.
        </p>
      </td>
    </tr>
  </tbody>
</table>
<p dir="auto">Suppose you have the following directory structure for a D project:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="[workspace]/
    WORKSPACE
    hello_lib/
        BUILD
        greeter.d
    hello_world
        BUILD
        hello_world.d"><pre class="notranslate"><code>[workspace]/
    WORKSPACE
    hello_lib/
        BUILD
        greeter.d
    hello_world
        BUILD
        hello_world.d
</code></pre></div>
<p dir="auto">The source file <code>hello_lib/greeter.d</code> defines a module <code>greeter</code>:</p>
<div class="highlight highlight-source-d notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="module greeter;
..."><pre><span class="pl-k">module</span> <span class="pl-en">greeter</span>;
<span class="pl-k">...</span></pre></div>
<p dir="auto">The <code>hello_lib</code> library is built using a <code>d_library</code> target:</p>
<p dir="auto"><code>hello_lib/BUILD</code>:</p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="load(&quot;@io_bazel_rules_d//d:d.bzl&quot;, &quot;d_library&quot;)

d_library(
    name = &quot;hello_lib&quot;,
    srcs = [&quot;greeter.d&quot;],
)"><pre><span class="pl-en">load</span>(<span class="pl-s">"@io_bazel_rules_d//d:d.bzl"</span>, <span class="pl-s">"d_library"</span>)

<span class="pl-en">d_library</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"hello_lib"</span>,
    <span class="pl-s1">srcs</span> <span class="pl-c1">=</span> [<span class="pl-s">"greeter.d"</span>],
)</pre></div>
<p dir="auto">By default, import paths are from the root of the workspace. Thus, the source
for the <code>hello_world</code> binary, <code>hello_world.d</code>, would import the <code>greeter</code>
module as follows:</p>
<div class="highlight highlight-source-d notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="import hello_lib.greeter;"><pre><span class="pl-k">import</span> hello_lib.greeter;</pre></div>
<p dir="auto">However, this can be changed via the <code>imports</code> attribute on the <code>d_library</code>
rule.</p>
<p dir="auto">The <code>hello_world</code> binary is built using a <code>d_binary</code> target:</p>
<p dir="auto"><code>hello_world/BUILD</code>:</p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="load(&quot;@io_bazel_rules_d//d:d.bzl&quot;, &quot;d_library&quot;)

d_binary(
    name = &quot;hello_world&quot;,
    srcs = [&quot;hello_world.d&quot;],
    deps = [&quot;//hello_lib&quot;],
)"><pre><span class="pl-en">load</span>(<span class="pl-s">"@io_bazel_rules_d//d:d.bzl"</span>, <span class="pl-s">"d_library"</span>)

<span class="pl-en">d_binary</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"hello_world"</span>,
    <span class="pl-s1">srcs</span> <span class="pl-c1">=</span> [<span class="pl-s">"hello_world.d"</span>],
    <span class="pl-s1">deps</span> <span class="pl-c1">=</span> [<span class="pl-s">"//hello_lib"</span>],
)</pre></div>
<p dir="auto"><a name="user-content-d_test"></a></p>
<h2 dir="auto"><a id="user-content-d_test" class="anchor" aria-hidden="true" tabindex="-1" href="#d_test"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>d_test</h2>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="d_test(name, srcs, deps, includes, linkopts, versions)"><pre><span class="pl-en">d_test</span>(<span class="pl-s1">name</span>, <span class="pl-s1">srcs</span>, <span class="pl-s1">deps</span>, <span class="pl-s1">includes</span>, <span class="pl-s1">linkopts</span>, <span class="pl-s1">versions</span>)</pre></div>
<table>
  
    
    
  
  <thead>
    <tr>
      <th colspan="2">Attributes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>name</code></td>
      <td>
        <code>Name, required</code>
        <p dir="auto">A unique name for this rule.</p>
        <p dir="auto">
          This name will be used as the name of the test built by this rule.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>srcs</code></td>
      <td>
        <code>List of labels, required</code>
        <p dir="auto">List of D <code>.d</code> source files used to build the test.</p>
      </td>
    </tr>
    <tr>
      <td><code>deps</code></td>
      <td>
        <code>List of labels, optional</code>
        <p dir="auto">List of libraries to be linked to this test target.</p>
        <p dir="auto">
          These can either be other <code>d_library</code> targets,
          source-only <code>d_source_library</code> targets, or
          <code>cc_library</code> targets if linking a native library.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>imports</code></td>
      <td>
        <code>List of strings, optional</code>
        <p dir="auto">List of import dirs to add to the compile line.</p>
        <p dir="auto">
          These will be passed to the D compiler via <code>-I</code> flags.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>linkopts</code></td>
      <td>
        <code>List of strings, optional</code>
        <p dir="auto">List of flags that are added to the D linker command.</p>
        <p dir="auto">
          These will be passed to the D compiler via <code>-L</code> flags.
        </p>
      </td>
    </tr>
    <tr>
      <td><code>versions</code></td>
      <td>
        <code>List of strings, optional</code>
        <p dir="auto">List of versions to be defined during compilation.</p>
        <p dir="auto">
          Versions are used for conditional compilation and are enabled in the
          code using <code>version</code> condition blocks. These versions
          listed here will be passed to the D compiler using
          <code>-version</code> flags.
        </p>
      </td>
    </tr>
  </tbody>
</table>
<h3 dir="auto"><a id="user-content-example-2" class="anchor" aria-hidden="true" tabindex="-1" href="#example-2"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Example</h3>
<p dir="auto">Suppose you have the following directory structure for a D project:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="[workspace]/
    WORKSPACE
    hello_lib/
        BUILD
        greeter.d
        greeter_test.d"><pre class="notranslate"><code>[workspace]/
    WORKSPACE
    hello_lib/
        BUILD
        greeter.d
        greeter_test.d
</code></pre></div>
<p dir="auto"><code>hello_lib/greeter.d</code>:</p>
<div class="highlight highlight-source-d notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="module greeter;

import std.stdio;
import std.string;

class Greeter {
 private string greeting;

 public:
  this(in string greeting) {
    this.greeting = greeting.dup;
  }

  string makeGreeting(in immutable string thing) {
    return format(&quot;%s %s!&quot;, this.greeting, thing);
  }

  void greet(in immutable string thing) {
    writeln(makeGreeting(thing));
  }
}"><pre><span class="pl-k">module</span> <span class="pl-en">greeter</span>;

<span class="pl-k">import</span> <span class="pl-c1">std.stdio</span>;
<span class="pl-k">import</span> <span class="pl-c1">std.string</span>;

<span class="pl-k">class</span> <span class="pl-en">Greeter</span> {
 <span class="pl-k">private</span> <span class="pl-c1">string</span> greeting;

 <span class="pl-k">public</span>:
  <span class="pl-en">this</span>(<span class="pl-k">in</span> <span class="pl-c1">string</span> greeting) {
    <span class="pl-c1">this</span>.greeting = greeting.<span class="pl-c1">dup</span>;
  }

  <span class="pl-c1">string</span> <span class="pl-en">makeGreeting</span>(<span class="pl-k">in</span> <span class="pl-k">immutable</span> <span class="pl-c1">string</span> thing) {
    <span class="pl-k">return</span> <span class="pl-en">format</span>(<span class="pl-s"><span class="pl-pds">"</span>%s %s!<span class="pl-pds">"</span></span>, <span class="pl-c1">this</span>.greeting, thing);
  }

  <span class="pl-k">void</span> <span class="pl-en">greet</span>(<span class="pl-k">in</span> <span class="pl-k">immutable</span> <span class="pl-c1">string</span> thing) {
    writeln(makeGreeting(thing));
  }
}</pre></div>
<p dir="auto"><code>hello_lib/greeter_test.d</code>:</p>
<div class="highlight highlight-source-d notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="import hello_lib.greeter;

unittest {
  auto greeter = new Greeter(&quot;Hello&quot;);
  assert(greeter.makeGreeting(&quot;world&quot;) == &quot;Hello world!&quot;);
}

void main() {}"><pre><span class="pl-k">import</span> hello_lib.greeter;

<span class="pl-k">unittest</span> {
  <span class="pl-k">auto</span> greeter = <span class="pl-k">new</span> Greeter(<span class="pl-s"><span class="pl-pds">"</span>Hello<span class="pl-pds">"</span></span>);
  <span class="pl-k">assert</span>(greeter.makeGreeting(<span class="pl-s"><span class="pl-pds">"</span>world<span class="pl-pds">"</span></span>) <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>Hello world!<span class="pl-pds">"</span></span>);
}

<span class="pl-k">void</span> <span class="pl-en">main</span>() {}</pre></div>
<p dir="auto">To build the library and unit test:</p>
<p dir="auto"><code>hello_lib/BUILD</code>:</p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="load(&quot;@io_bazel_rules_d//d:d.bzl&quot;, &quot;d_library&quot;, &quot;d_test&quot;)

d_library(
    name = &quot;greeter&quot;,
    srcs = [&quot;greeter.d&quot;],
)

d_test(
    name = &quot;greeter_test&quot;,
    srcs = [&quot;greeter_test.d&quot;],
    deps = [&quot;:greeter&quot;],
)"><pre><span class="pl-en">load</span>(<span class="pl-s">"@io_bazel_rules_d//d:d.bzl"</span>, <span class="pl-s">"d_library"</span>, <span class="pl-s">"d_test"</span>)

<span class="pl-en">d_library</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"greeter"</span>,
    <span class="pl-s1">srcs</span> <span class="pl-c1">=</span> [<span class="pl-s">"greeter.d"</span>],
)

<span class="pl-en">d_test</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"greeter_test"</span>,
    <span class="pl-s1">srcs</span> <span class="pl-c1">=</span> [<span class="pl-s">"greeter_test.d"</span>],
    <span class="pl-s1">deps</span> <span class="pl-c1">=</span> [<span class="pl-s">":greeter"</span>],
)</pre></div>
<p dir="auto">The unit test can then be run using:</p>
<div class="highlight highlight-source-shell notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="bazel test //hello_lib:greeter_test"><pre>bazel <span class="pl-c1">test</span> //hello_lib:greeter_test</pre></div>
<p dir="auto"><a name="user-content-d_docs"></a></p>
<h2 dir="auto"><a id="user-content-d_docs" class="anchor" aria-hidden="true" tabindex="-1" href="#d_docs"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>d_docs</h2>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="d_docs(name, dep)"><pre><span class="pl-en">d_docs</span>(<span class="pl-s1">name</span>, <span class="pl-s1">dep</span>)</pre></div>
<table>
  
    
    
  
  <thead>
    <tr>
      <th colspan="2">Attributes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>name</code></td>
      <td>
        <code>Name, required</code>
        <p dir="auto">A unique name for this rule.</p>
      </td>
    </tr>
    <tr>
      <td><code>dep</code></td>
      <td>
        <code>Label, required</code>
        <p dir="auto">The label of the target to generate code documentation for.</p>
        <p dir="auto">
          <code>d_docs</code> can generate HTML code documentation for the
          source files of <code>d_library</code>, <code>d_source_library</code>,
          <code>d_binary</code>, or <code>d_test</code> targets.
        </p>
      </td>
    </tr>
  </tbody>
</table>
<h3 dir="auto"><a id="user-content-example-3" class="anchor" aria-hidden="true" tabindex="-1" href="#example-3"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Example</h3>
<p dir="auto">Suppose you have the following directory structure for a D project:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="[workspace]/
    WORKSPACE
    foo/
        BUILD
        foo.d
        bar.d
        baz.d"><pre class="notranslate"><code>[workspace]/
    WORKSPACE
    foo/
        BUILD
        foo.d
        bar.d
        baz.d
</code></pre></div>
<p dir="auto">The <code>foo/</code> directory contains the sources for the <code>d_library</code> <code>foo</code>. To
generate HTML documentation for the <code>foo</code> library, define a <code>d_docs</code> target
that takes the <code>d_library</code> <code>foo</code> as its dependency:</p>
<p dir="auto"><code>foo/BUILD</code>:</p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="load(&quot;@io_bazel_rules_d//d:d.bzl&quot;, &quot;d_library&quot;, &quot;d_docs&quot;)

d_library(
    name = &quot;foo&quot;,
    srcs = [
        &quot;foo.d&quot;,
        &quot;bar.d&quot;,
        &quot;baz.d&quot;,
    ],
)

d_docs(
    name = &quot;foo_docs&quot;,
    dep = &quot;:foo&quot;,
)"><pre><span class="pl-en">load</span>(<span class="pl-s">"@io_bazel_rules_d//d:d.bzl"</span>, <span class="pl-s">"d_library"</span>, <span class="pl-s">"d_docs"</span>)

<span class="pl-en">d_library</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"foo"</span>,
    <span class="pl-s1">srcs</span> <span class="pl-c1">=</span> [
        <span class="pl-s">"foo.d"</span>,
        <span class="pl-s">"bar.d"</span>,
        <span class="pl-s">"baz.d"</span>,
    ],
)

<span class="pl-en">d_docs</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"foo_docs"</span>,
    <span class="pl-s1">dep</span> <span class="pl-c1">=</span> <span class="pl-s">":foo"</span>,
)</pre></div>
<p dir="auto">Running <code>bazel build //foo:foo_docs</code> will generate a zip file containing the
HTML documentation generated from the source files. See the official D language
documentation on the <a href="http://dlang.org/ddoc.html" rel="nofollow">Documentation Generator</a> for
more information on the conventions for source documentation.</p>
</article></div>