[{"url":"https://api.github.com/repos/sgammon/rules_graalvm/releases/121045264","assets_url":"https://api.github.com/repos/sgammon/rules_graalvm/releases/121045264/assets","upload_url":"https://uploads.github.com/repos/sgammon/rules_graalvm/releases/121045264/assets{?name,label}","html_url":"https://github.com/sgammon/rules_graalvm/releases/tag/v0.10.3","id":121045264,"author":{"login":"sgammon","id":171897,"node_id":"MDQ6VXNlcjE3MTg5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/171897?v=4","gravatar_id":"","url":"https://api.github.com/users/sgammon","html_url":"https://github.com/sgammon","followers_url":"https://api.github.com/users/sgammon/followers","following_url":"https://api.github.com/users/sgammon/following{/other_user}","gists_url":"https://api.github.com/users/sgammon/gists{/gist_id}","starred_url":"https://api.github.com/users/sgammon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgammon/subscriptions","organizations_url":"https://api.github.com/users/sgammon/orgs","repos_url":"https://api.github.com/users/sgammon/repos","events_url":"https://api.github.com/users/sgammon/events{/privacy}","received_events_url":"https://api.github.com/users/sgammon/received_events","type":"User","site_admin":false},"node_id":"RE_kwDODhdnIc4HNwEQ","tag_name":"v0.10.3","target_commitish":"main","name":"Release v0.10.3","draft":false,"prerelease":false,"created_at":"2023-09-13T22:20:33Z","published_at":"2023-09-13T22:26:37Z","assets":[{"url":"https://api.github.com/repos/sgammon/rules_graalvm/releases/assets/125924769","id":125924769,"node_id":"RA_kwDODhdnIc4HgXWh","name":"rules_graalvm-0.10.3.tgz","label":null,"uploader":{"login":"sgammon","id":171897,"node_id":"MDQ6VXNlcjE3MTg5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/171897?v=4","gravatar_id":"","url":"https://api.github.com/users/sgammon","html_url":"https://github.com/sgammon","followers_url":"https://api.github.com/users/sgammon/followers","following_url":"https://api.github.com/users/sgammon/following{/other_user}","gists_url":"https://api.github.com/users/sgammon/gists{/gist_id}","starred_url":"https://api.github.com/users/sgammon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgammon/subscriptions","organizations_url":"https://api.github.com/users/sgammon/orgs","repos_url":"https://api.github.com/users/sgammon/repos","events_url":"https://api.github.com/users/sgammon/events{/privacy}","received_events_url":"https://api.github.com/users/sgammon/received_events","type":"User","site_admin":false},"content_type":"application/gzip","state":"uploaded","size":169058,"download_count":0,"created_at":"2023-09-13T22:28:16Z","updated_at":"2023-09-13T22:28:44Z","browser_download_url":"https://github.com/sgammon/rules_graalvm/releases/download/v0.10.3/rules_graalvm-0.10.3.tgz"},{"url":"https://api.github.com/repos/sgammon/rules_graalvm/releases/assets/125923651","id":125923651,"node_id":"RA_kwDODhdnIc4HgXFD","name":"rules_graalvm-0.10.3.zip","label":null,"uploader":{"login":"sgammon","id":171897,"node_id":"MDQ6VXNlcjE3MTg5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/171897?v=4","gravatar_id":"","url":"https://api.github.com/users/sgammon","html_url":"https://github.com/sgammon","followers_url":"https://api.github.com/users/sgammon/followers","following_url":"https://api.github.com/users/sgammon/following{/other_user}","gists_url":"https://api.github.com/users/sgammon/gists{/gist_id}","starred_url":"https://api.github.com/users/sgammon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgammon/subscriptions","organizations_url":"https://api.github.com/users/sgammon/orgs","repos_url":"https://api.github.com/users/sgammon/repos","events_url":"https://api.github.com/users/sgammon/events{/privacy}","received_events_url":"https://api.github.com/users/sgammon/received_events","type":"User","site_admin":false},"content_type":"application/zip","state":"uploaded","size":223246,"download_count":30,"created_at":"2023-09-13T22:16:05Z","updated_at":"2023-09-13T22:16:52Z","browser_download_url":"https://github.com/sgammon/rules_graalvm/releases/download/v0.10.3/rules_graalvm-0.10.3.zip"}],"tarball_url":"https://api.github.com/repos/sgammon/rules_graalvm/tarball/v0.10.3","zipball_url":"https://api.github.com/repos/sgammon/rules_graalvm/zipball/v0.10.3","body":"## Summary\r\n\r\nThis release adds a few features and fixes. See below for details. Please see the release notes from [`0.10.1`](https://github.com/sgammon/rules_graalvm/releases/v0.10.1) for an exhaustive list of changes and features.\r\n\r\n- @fmeum: [`fix: Bazel version checks for dev versions`](https://github.com/sgammon/rules_graalvm/pull/128)\r\n- @ruwi-next: [`fix(windows): added use_param_file for args`](https://github.com/sgammon/rules_graalvm/pull/132)\r\n\r\nThis release includes @ruwi-next's first contribution. Thank you! ðŸ¥³ \r\n\r\n## Installation\r\n\r\n**Via `WORKSPACE.bazel`:**\r\n```starlark\r\nhttp_archive(\r\n    name = \"rules_graalvm\",\r\n    sha256 = \"1f4b9979e75033042df4e9405a0a949aa5dd9427e72c8aafd8891d8f674e75e4\",\r\n    strip_prefix = \"rules_graalvm-0.10.3\",\r\n    urls = [\r\n        \"https://github.com/sgammon/rules_graalvm/releases/download/v0.10.3/rules_graalvm-0.10.3.zip\",\r\n    ],\r\n)\r\n```\r\n```starlark\r\nload(\"@rules_graalvm//graalvm:repositories.bzl\", \"graalvm_repository\")\r\n```\r\n```starlark\r\ngraalvm_repository(\r\n    name = \"graalvm\",\r\n    components = [\r\n       # if you need components like `js` or `wasm`, add them here\r\n    ],\r\n    distribution = \"ce\",  # `oracle`, `ce`, or `community`\r\n    java_version = \"20\",  # `17`, `20`, or `21`, as supported by the version provided\r\n    version = \"20.0.2\",  # earlier version format like `22.x` also supported\r\n)\r\n```\r\n\r\n| Artifact | SHA256 |\r\n| ------- | ----------- |\r\n| `rules_graalvm-0.10.3.zip` | `1f4b9979e75033042df4e9405a0a949aa5dd9427e72c8aafd8891d8f674e75e4` |\r\n| `rules_graalvm-0.10.3.tgz` | `b846e46415d7b97881725a1d67c825120568ecfdf5f83cec4df0f7df5eae59ac` |\r\n\r\n**Or, via `MODULE.bazel`:**\r\n\r\n```starlark\r\nbazel_dep(name = \"rules_graalvm\", version = \"0.10.3\")\r\n```\r\n```starlark\r\ngvm = use_extension(\"@rules_graalvm//:extensions.bzl\", \"graalvm\")\r\n\r\ngvm.graalvm(\r\n    name = \"graalvm\",\r\n    version = \"20.0.2\",  # earlier version format like `22.x` also supported\r\n    distribution = \"ce\",  # `oracle`, `ce`, or `community`\r\n    java_version = \"20\",  # `17`, `20`, or `21`, as supported by the version provided\r\n    components = [\r\n       # if you need components like `js` or `wasm`, add them here\r\n    ],\r\n)\r\nuse_repo(gvm, \"graalvm\")\r\nuse_repo(gvm, \"graalvm_toolchains\")\r\nregister_toolchains(\"@graalvm_toolchains//:all\")\r\n```\r\n\r\n| Artifact | Integrity value |\r\n| ------- | --------------- |\r\n| `rules_graalvm-0.10.3.zip` | `sha256-H0uZeedQMwQt9OlAWgqUmqXdlCfnLIqv2Ikdj2dOdeQ=` |\r\n| `rules_graalvm-0.10.3.tgz` | `sha256-uEbkZBXXuXiBclodZ8glEgVo7P31+DzsTfD3316uWaw=` |\r\n\r\n#### Using GraalVM as your Java toolchain\r\n\r\n**Via `WORKSPACE.bazel`:**\r\n```starlark\r\n# graalvm_repository(...)\r\n```\r\n```starlark\r\nload(\"@rules_graalvm//graalvm:workspace.bzl\", \"register_graalvm_toolchains\")\r\n\r\nregister_graalvm_toolchains()\r\n```\r\n\r\n**Via Bzlmod:**\r\n```starlark\r\nregister_toolchains(\"@graalvm_toolchains//:all\")\r\n```\r\n\r\n**To _use_ the toolchain, add this to your `.bazelrc`:**\r\n```\r\nbuild --extra_toolchains=@graalvm_toolchains//:toolchain\r\nbuild --java_runtime_version=graalvm_20\r\n```\r\n\r\n> [!NOTE]  \r\n> If you name your repository `example` and set the Java version to `21`, your `java_runtime_version` would be `example_21`, and your toolchain repo would be `@example_toolchains`.\r\n\r\n---\r\n\r\n# Release Notes\r\n\r\nSee below for **breaking changes** in this release, and then everything else that changed.\r\n\r\n## Breaking changes: `0.10.x` series\r\n\r\n- **The `default_executable_name` attribute and parameter has been renamed to `executable_name`.**\r\n  This is because there is no other executable name parameter; setting this attribute will unconditionally change the output binary name.\r\n\r\n- **Legacy GVM is only usable with the legacy rules.**\r\n  Previously, it was possible to use a rather old version of GraalVM (Java 11-era) with the new-style rules. This use is no longer supported because older versions of `native-image` show incompatibilities with Bazel's process wrapper.\r\n\r\n- **Native image builds will now respect Bazel flags like `--compilation_mode=opt`.**\r\n  Defaults have been left to GraalVM to maintain backward compatibility with the default case, which builds binaries with `-O2` (optimizations on). However, this is still a breaking change because the behavior will be different if `--compilation_mode` was being explicitly set to any value other than `opt`. Note that Bazel's default value of `fastbuild` also applies here, so passing _no value at all_ **will** result in a behavior change (`opt` â†’ `fastbuild`).\r\n\r\n- **The order of options passed to `native-image` has changed.**\r\n  Attributes like `extra_args` now pass later on the command line (last, actually, for `extra_args`); because `native-image` options are last-wins, this should allow overriding _any_ of the flags injected by the rules. This should offer users a path forward even if the flags passed by the rules are incompatible in some way. This change in the order of action arguments may result in cache misses. Otherwise, this change should be transparent to rule users.\r\n\r\n- **Hermetic build environment improvements.**\r\n  The parameter `use_default_shell_env` is no longer passed to the underlying `native-image` compile action; instead, the toolchain environment is assembled for strict use. Native compiler environment variables like `INCLUDE`, `LIB`, `DEVELOPER_DIR`, and `SDKROOT` no longer need to be passed via `--action_env`.\r\n\r\n- **Toolchain targets and registration.**\r\n  See below for an exhaustive description, but basically, the registration calls for toolchains need to change, but only for users who are consuming via Bzlmod.\r\n\r\n### Breaking changes: Toolchain registration\r\n\r\nWhen registering toolchains in a Bzlmod installation of these rules, the target `@graalvm//:all` must be changed to two toolchain registrations, based on the desired functionality:\r\n\r\n**Register the Java toolchain:**\r\n```starlark\r\nregister_toolchains(\"@graalvm_toolchains//:toolchain\")\r\n```\r\n\r\n**Register the GVM toolchain:**\r\n```starlark\r\nregister_toolchains(\"@graalvm_toolchains//:toolchain_gvm\")\r\n```\r\n\r\n**To keep the `:all` target:**\r\n```starlark\r\nregister_toolchains(\"@graalvm_toolchains//:all\")\r\n```\r\n\r\n## What's Changed\r\n* fix: Bazel version checks for dev versions by @fmeum in https://github.com/sgammon/rules_graalvm/pull/128\r\n* fix(windows): added `use_param_file` for args by @sgammon in https://github.com/sgammon/rules_graalvm/pull/132\r\n\r\n\r\n**Full Changelog**: https://github.com/sgammon/rules_graalvm/compare/v0.10.2...v0.10.3\r\n","mentions_count":3},{"url":"https://api.github.com/repos/sgammon/rules_graalvm/releases/120612130","assets_url":"https://api.github.com/repos/sgammon/rules_graalvm/releases/120612130/assets","upload_url":"https://uploads.github.com/repos/sgammon/rules_graalvm/releases/120612130/assets{?name,label}","html_url":"https://github.com/sgammon/rules_graalvm/releases/tag/v0.10.2","id":120612130,"author":{"login":"sgammon","id":171897,"node_id":"MDQ6VXNlcjE3MTg5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/171897?v=4","gravatar_id":"","url":"https://api.github.com/users/sgammon","html_url":"https://github.com/sgammon","followers_url":"https://api.github.com/users/sgammon/followers","following_url":"https://api.github.com/users/sgammon/following{/other_user}","gists_url":"https://api.github.com/users/sgammon/gists{/gist_id}","starred_url":"https://api.github.com/users/sgammon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgammon/subscriptions","organizations_url":"https://api.github.com/users/sgammon/orgs","repos_url":"https://api.github.com/users/sgammon/repos","events_url":"https://api.github.com/users/sgammon/events{/privacy}","received_events_url":"https://api.github.com/users/sgammon/received_events","type":"User","site_admin":false},"node_id":"RE_kwDODhdnIc4HMGUi","tag_name":"v0.10.2","target_commitish":"main","name":"Release v0.10.2","draft":false,"prerelease":false,"created_at":"2023-09-11T09:50:11Z","published_at":"2023-09-11T09:51:40Z","assets":[{"url":"https://api.github.com/repos/sgammon/rules_graalvm/releases/assets/125501114","id":125501114,"node_id":"RA_kwDODhdnIc4Hev66","name":"rules_graalvm-0.10.2.tgz","label":null,"uploader":{"login":"sgammon","id":171897,"node_id":"MDQ6VXNlcjE3MTg5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/171897?v=4","gravatar_id":"","url":"https://api.github.com/users/sgammon","html_url":"https://github.com/sgammon","followers_url":"https://api.github.com/users/sgammon/followers","following_url":"https://api.github.com/users/sgammon/following{/other_user}","gists_url":"https://api.github.com/users/sgammon/gists{/gist_id}","starred_url":"https://api.github.com/users/sgammon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgammon/subscriptions","organizations_url":"https://api.github.com/users/sgammon/orgs","repos_url":"https://api.github.com/users/sgammon/repos","events_url":"https://api.github.com/users/sgammon/events{/privacy}","received_events_url":"https://api.github.com/users/sgammon/received_events","type":"User","site_admin":false},"content_type":"application/gzip","state":"uploaded","size":145216,"download_count":2,"created_at":"2023-09-11T09:50:46Z","updated_at":"2023-09-11T09:50:47Z","browser_download_url":"https://github.com/sgammon/rules_graalvm/releases/download/v0.10.2/rules_graalvm-0.10.2.tgz"},{"url":"https://api.github.com/repos/sgammon/rules_graalvm/releases/assets/125501116","id":125501116,"node_id":"RA_kwDODhdnIc4Hev68","name":"rules_graalvm-0.10.2.zip","label":null,"uploader":{"login":"sgammon","id":171897,"node_id":"MDQ6VXNlcjE3MTg5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/171897?v=4","gravatar_id":"","url":"https://api.github.com/users/sgammon","html_url":"https://github.com/sgammon","followers_url":"https://api.github.com/users/sgammon/followers","following_url":"https://api.github.com/users/sgammon/following{/other_user}","gists_url":"https://api.github.com/users/sgammon/gists{/gist_id}","starred_url":"https://api.github.com/users/sgammon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgammon/subscriptions","organizations_url":"https://api.github.com/users/sgammon/orgs","repos_url":"https://api.github.com/users/sgammon/repos","events_url":"https://api.github.com/users/sgammon/events{/privacy}","received_events_url":"https://api.github.com/users/sgammon/received_events","type":"User","site_admin":false},"content_type":"application/zip","state":"uploaded","size":178458,"download_count":21,"created_at":"2023-09-11T09:50:47Z","updated_at":"2023-09-11T09:50:47Z","browser_download_url":"https://github.com/sgammon/rules_graalvm/releases/download/v0.10.2/rules_graalvm-0.10.2.zip"}],"tarball_url":"https://api.github.com/repos/sgammon/rules_graalvm/tarball/v0.10.2","zipball_url":"https://api.github.com/repos/sgammon/rules_graalvm/zipball/v0.10.2","body":"## Summary\r\n\r\nThis is a fix release focused on the `0.10.x` release series features, including lazy download of GraalVM toolchains. Please see the release notes from [`0.10.1`](https://github.com/sgammon/rules_graalvm/releases/v0.10.1) for an exhaustive list of changes and features.\r\n\r\n\r\n## Installation\r\n\r\n**Via `WORKSPACE.bazel`:**\r\n```starlark\r\nhttp_archive(\r\n    name = \"rules_graalvm\",\r\n    sha256 = \"b2dad731ac44ea122f295ba283f9949744c5f10180aedb36f9c7708b734f1250\",\r\n    strip_prefix = \"rules_graalvm-0.10.2\",\r\n    urls = [\r\n        \"https://github.com/sgammon/rules_graalvm/releases/download/v0.10.2/rules_graalvm-0.10.2.zip\",\r\n    ],\r\n)\r\n```\r\n```starlark\r\nload(\"@rules_graalvm//graalvm:repositories.bzl\", \"graalvm_repository\")\r\n```\r\n```starlark\r\ngraalvm_repository(\r\n    name = \"graalvm\",\r\n    components = [\r\n       # if you need components like `js` or `wasm`, add them here\r\n    ],\r\n    distribution = \"ce\",  # `oracle`, `ce`, or `community`\r\n    java_version = \"20\",  # `17`, `20`, or `21`, as supported by the version provided\r\n    version = \"20.0.2\",  # earlier version format like `22.x` also supported\r\n)\r\n```\r\n\r\n| Artifact | SHA256 |\r\n| ------- | ----------- |\r\n| `rules_graalvm-0.10.2.zip` | `b2dad731ac44ea122f295ba283f9949744c5f10180aedb36f9c7708b734f1250` |\r\n| `rules_graalvm-0.10.2.tgz` | `ddff3dcca8fd1506f8f06032c0c9f7860e691c98bb35691195e1cb46d59e85e4` |\r\n\r\n**Or, via `MODULE.bazel`:**\r\n\r\n> [!IMPORTANT]  \r\n> To use Bzlmod with `rules_graalvm`, you will need the `archive_override` below (until this package is made available on BCR).\r\n\r\n```starlark\r\nbazel_dep(name = \"rules_graalvm\", version = \"0.10.2\")\r\n```\r\n```starlark\r\n# Until we ship to BCR:\r\narchive_override(\r\n    module_name = \"rules_graalvm\",\r\n    urls = [\"https://github.com/sgammon/rules_graalvm/releases/download/v0.10.2/rules_graalvm-0.10.2.zip\"],\r\n    strip_prefix = \"rules_graalvm-0.10.2\",\r\n    integrity = \"sha256-strXMaxE6hIvKVuig/mUl0TF8QGArts2+cdwi3NPElA=\",\r\n)\r\n```\r\n```starlark\r\ngvm = use_extension(\"@rules_graalvm//:extensions.bzl\", \"graalvm\")\r\n\r\ngvm.graalvm(\r\n    name = \"graalvm\",\r\n    version = \"20.0.2\",  # earlier version format like `22.x` also supported\r\n    distribution = \"ce\",  # `oracle`, `ce`, or `community`\r\n    java_version = \"20\",  # `17`, `20`, or `21`, as supported by the version provided\r\n    components = [\r\n       # if you need components like `js` or `wasm`, add them here\r\n    ],\r\n)\r\nuse_repo(gvm, \"graalvm\")\r\nregister_toolchains(\"@graalvm//:jvm\")\r\nregister_toolchains(\"@graalvm//:sdk\")\r\n```\r\n\r\n| Artifact | Integrity value |\r\n| ------- | --------------- |\r\n| `rules_graalvm-0.10.2.zip` | `sha256-strXMaxE6hIvKVuig/mUl0TF8QGArts2+cdwi3NPElA=` |\r\n| `rules_graalvm-0.10.2.tgz` | `sha256-3f89zKj9FQb48GAywMn3hg5pHJi7NWkRleHLRtWeheQ=` |\r\n\r\n#### Using GraalVM as your Java toolchain\r\n\r\n**Via `WORKSPACE.bazel`:**\r\n```starlark\r\n# graalvm_repository(...)\r\n```\r\n```starlark\r\nload(\"@rules_graalvm//graalvm:workspace.bzl\", \"register_graalvm_toolchains\")\r\n\r\nregister_graalvm_toolchains()\r\n```\r\n\r\n**Via Bzlmod:**\r\n```starlark\r\nregister_toolchains(\"@graalvm//:sdk\")\r\nregister_toolchains(\"@graalvm//:jvm\")\r\n```\r\n\r\n**To _use_ the toolchain, add this to your `.bazelrc`:**\r\n```\r\nbuild --extra_toolchains=@graalvm//:jvm\r\nbuild --java_runtime_version=graalvm_20\r\n```\r\n\r\n> [!NOTE]  \r\n> If you name your repository `example` and set the Java version to `21`, your `java_runtime_version` would be `example_21`, and your toolchain repo would be `@example_toolchains`.\r\n\r\n---\r\n\r\n# Release Notes\r\n\r\nSee below for **breaking changes** in this release, and then everything else that changed.\r\n\r\n## Breaking changes: `0.10.x` series\r\n\r\n- **The `default_executable_name` attribute and parameter has been renamed to `executable_name`.**\r\n  This is because there is no other executable name parameter; setting this attribute will unconditionally change the output binary name.\r\n\r\n- **Legacy GVM is only usable with the legacy rules.**\r\n  Previously, it was possible to use a rather old version of GraalVM (Java 11-era) with the new-style rules. This use is no longer supported because older versions of `native-image` show incompatibilities with Bazel's process wrapper.\r\n\r\n- **Native image builds will now respect Bazel flags like `--compilation_mode=opt`.**\r\n  Defaults have been left to GraalVM to maintain backward compatibility with the default case, which builds binaries with `-O2` (optimizations on). However, this is still a breaking change because the behavior will be different if `--compilation_mode` was being explicitly set to any value other than `opt`. Note that Bazel's default value of `fastbuild` also applies here, so passing _no value at all_ **will** result in a behavior change (`opt` â†’ `fastbuild`).\r\n\r\n- **The order of options passed to `native-image` has changed.**\r\n  Attributes like `extra_args` now pass later on the command line (last, actually, for `extra_args`); because `native-image` options are last-wins, this should allow overriding _any_ of the flags injected by the rules. This should offer users a path forward even if the flags passed by the rules are incompatible in some way. This change in the order of action arguments may result in cache misses. Otherwise, this change should be transparent to rule users.\r\n\r\n- **Hermetic build environment improvements.**\r\n  The parameter `use_default_shell_env` is no longer passed to the underlying `native-image` compile action; instead, the toolchain environment is assembled for strict use. Native compiler environment variables like `INCLUDE`, `LIB`, `DEVELOPER_DIR`, and `SDKROOT` no longer need to be passed via `--action_env`.\r\n\r\n- **Toolchain targets and registration.**\r\n  See below for an exhaustive description, but basically, the registration calls for toolchains need to change, but only for users who are consuming via Bzlmod.\r\n\r\n### Breaking changes: Toolchain registration\r\n\r\nWhen registering toolchains in a Bzlmod installation of these rules, the target `@graalvm//:all` must be changed to two toolchain registrations, based on the desired functionality:\r\n\r\n**Register the Java toolchain:**\r\n```starlark\r\nregister_toolchains(\"@graalvm_toolchains//:toolchain\")\r\n```\r\n\r\n**Register the GVM toolchain:**\r\n```starlark\r\nregister_toolchains(\"@graalvm_toolchains//:toolchain_gvm\")\r\n```\r\n\r\n**To keep the `:all` target:**\r\n```starlark\r\nregister_toolchains(\"@graalvm_toolchains//:all\")\r\n```\r\n\r\n\r\n## What's Changed\r\n* fix!: restrict `graalvm` tag to the root module by @fmeum in https://github.com/sgammon/rules_graalvm/pull/126\r\n* fix: remove `module_ctx.extension_metadata` by @fmeum in https://github.com/sgammon/rules_graalvm/pull/125\r\n\r\n**Full Changelog**: https://github.com/sgammon/rules_graalvm/compare/v0.10.1...v0.10.2\r\n","mentions_count":1},{"url":"https://api.github.com/repos/sgammon/rules_graalvm/releases/120388657","assets_url":"https://api.github.com/repos/sgammon/rules_graalvm/releases/120388657/assets","upload_url":"https://uploads.github.com/repos/sgammon/rules_graalvm/releases/120388657/assets{?name,label}","html_url":"https://github.com/sgammon/rules_graalvm/releases/tag/v0.10.1","id":120388657,"author":{"login":"sgammon","id":171897,"node_id":"MDQ6VXNlcjE3MTg5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/171897?v=4","gravatar_id":"","url":"https://api.github.com/users/sgammon","html_url":"https://github.com/sgammon","followers_url":"https://api.github.com/users/sgammon/followers","following_url":"https://api.github.com/users/sgammon/following{/other_user}","gists_url":"https://api.github.com/users/sgammon/gists{/gist_id}","starred_url":"https://api.github.com/users/sgammon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgammon/subscriptions","organizations_url":"https://api.github.com/users/sgammon/orgs","repos_url":"https://api.github.com/users/sgammon/repos","events_url":"https://api.github.com/users/sgammon/events{/privacy}","received_events_url":"https://api.github.com/users/sgammon/received_events","type":"User","site_admin":false},"node_id":"RE_kwDODhdnIc4HLPwx","tag_name":"v0.10.1","target_commitish":"main","name":"Release v0.10.1","draft":false,"prerelease":false,"created_at":"2023-09-08T07:38:27Z","published_at":"2023-09-08T07:49:29Z","assets":[{"url":"https://api.github.com/repos/sgammon/rules_graalvm/releases/assets/125100212","id":125100212,"node_id":"RA_kwDODhdnIc4HdOC0","name":"rules_graalvm-0.10.1.tgz","label":null,"uploader":{"login":"sgammon","id":171897,"node_id":"MDQ6VXNlcjE3MTg5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/171897?v=4","gravatar_id":"","url":"https://api.github.com/users/sgammon","html_url":"https://github.com/sgammon","followers_url":"https://api.github.com/users/sgammon/followers","following_url":"https://api.github.com/users/sgammon/following{/other_user}","gists_url":"https://api.github.com/users/sgammon/gists{/gist_id}","starred_url":"https://api.github.com/users/sgammon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgammon/subscriptions","organizations_url":"https://api.github.com/users/sgammon/orgs","repos_url":"https://api.github.com/users/sgammon/repos","events_url":"https://api.github.com/users/sgammon/events{/privacy}","received_events_url":"https://api.github.com/users/sgammon/received_events","type":"User","site_admin":false},"content_type":"application/gzip","state":"uploaded","size":145855,"download_count":0,"created_at":"2023-09-08T07:41:50Z","updated_at":"2023-09-08T07:41:51Z","browser_download_url":"https://github.com/sgammon/rules_graalvm/releases/download/v0.10.1/rules_graalvm-0.10.1.tgz"},{"url":"https://api.github.com/repos/sgammon/rules_graalvm/releases/assets/125100213","id":125100213,"node_id":"RA_kwDODhdnIc4HdOC1","name":"rules_graalvm-0.10.1.zip","label":null,"uploader":{"login":"sgammon","id":171897,"node_id":"MDQ6VXNlcjE3MTg5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/171897?v=4","gravatar_id":"","url":"https://api.github.com/users/sgammon","html_url":"https://github.com/sgammon","followers_url":"https://api.github.com/users/sgammon/followers","following_url":"https://api.github.com/users/sgammon/following{/other_user}","gists_url":"https://api.github.com/users/sgammon/gists{/gist_id}","starred_url":"https://api.github.com/users/sgammon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgammon/subscriptions","organizations_url":"https://api.github.com/users/sgammon/orgs","repos_url":"https://api.github.com/users/sgammon/repos","events_url":"https://api.github.com/users/sgammon/events{/privacy}","received_events_url":"https://api.github.com/users/sgammon/received_events","type":"User","site_admin":false},"content_type":"application/zip","state":"uploaded","size":178576,"download_count":64,"created_at":"2023-09-08T07:41:51Z","updated_at":"2023-09-08T07:41:51Z","browser_download_url":"https://github.com/sgammon/rules_graalvm/releases/download/v0.10.1/rules_graalvm-0.10.1.zip"}],"tarball_url":"https://api.github.com/repos/sgammon/rules_graalvm/tarball/v0.10.1","zipball_url":"https://api.github.com/repos/sgammon/rules_graalvm/zipball/v0.10.1","body":"## Summary\r\n\r\nThis is a hotfix release for the [`0.10.x`](https://github.com/sgammon/rules_graalvm/pull/80) release of `rules_graalvm`. This release is _identical_ to `0.10.0`, except that it works over BCR (there were some [fingerprint issues](https://github.com/bazelbuild/bazel-central-registry/pull/836) when publishing, and that release will be yanked as a result). This release of the rules is pretty big and includes the following major updates:\r\n\r\n- Ability to easily use Maven artifacts from the GraalVM team\r\n- Lazy downloads of GraalVM toolchains\r\n- Many bugfixes\r\n- Hermetic compiler support on macOS, Linux, and Windows\r\n- ... and more! See the full set of changes summarized below.\r\n\r\nThis release includes contributions from:\r\n- Sam Gammon, Elide (@sgammon)\r\n- Mantas IndraÅ¡ius, Wix (@mantasindrasius)\r\n- Fabian Meumertzheim, Code Intelligence (@fmeum)\r\n\r\nThis release included @mantasindrasius and @fmeum 's first contributions ðŸ¥³  Thank you to all who contributed!\r\n\r\n> [!IMPORTANT] \r\n> There are some **backward-incompatible** changes in this release which involve the way toolchains are registered. Most users should have no problem upgrading; if you are using `@graalvm_toolchain_config_repo` targets directly, you will need to change them to `@graalvm_toolchains`. See the _Breaking changes_ section below for more information.\r\n\r\n## Installation\r\n\r\n**Via `WORKSPACE.bazel`:**\r\n```starlark\r\nhttp_archive(\r\n    name = \"rules_graalvm\",\r\n    sha256 = \"ca6fa64992139a3fd04fd878857319d4b865c80624e6a73967d340be4f64cb52\",\r\n    strip_prefix = \"rules_graalvm-0.10.1\",\r\n    urls = [\r\n        \"https://github.com/sgammon/rules_graalvm/releases/download/v0.10.1/rules_graalvm-0.10.1.zip\",\r\n    ],\r\n)\r\n```\r\n```starlark\r\nload(\"@rules_graalvm//graalvm:repositories.bzl\", \"graalvm_repository\")\r\n```\r\n```starlark\r\ngraalvm_repository(\r\n    name = \"graalvm\",\r\n    components = [\r\n       # if you need components like `js` or `wasm`, add them here\r\n    ],\r\n    distribution = \"ce\",  # `oracle`, `ce`, or `community`\r\n    java_version = \"20\",  # `17`, `20`, or `21`, as supported by the version provided\r\n    version = \"20.0.2\",  # earlier version format like `22.x` also supported\r\n)\r\n```\r\n\r\n| Artifact | SHA256 |\r\n| ------- | ----------- |\r\n| `rules_graalvm-0.10.1.zip` | `ca6fa64992139a3fd04fd878857319d4b865c80624e6a73967d340be4f64cb52` |\r\n| `rules_graalvm-0.10.1.tgz` | `13fa6527895534a6657a24e702f908d63925cea0e8f9d5d926b6a5f4739f91c2` |\r\n\r\n**Or, via `MODULE.bazel`:**\r\n\r\n> [!IMPORTANT]  \r\n> To use Bzlmod with `rules_graalvm`, you will need the `archive_override` below (until this package is made available on BCR).\r\n\r\n```starlark\r\nbazel_dep(name = \"rules_graalvm\", version = \"0.10.1\")\r\n```\r\n```starlark\r\n# Until we ship to BCR:\r\narchive_override(\r\n    module_name = \"rules_graalvm\",\r\n    urls = [\"https://github.com/sgammon/rules_graalvm/releases/download/v0.10.1/rules_graalvm-0.10.1.zip\"],\r\n    strip_prefix = \"rules_graalvm-0.10.1\",\r\n    integrity = \"sha256-ym+mSZITmj/QT9h4hXMZ1LhlyAYk5qc5Z9NAvk9ky1I=\",\r\n)\r\n```\r\n```starlark\r\ngvm = use_extension(\"@rules_graalvm//:extensions.bzl\", \"graalvm\")\r\n\r\ngvm.graalvm(\r\n    name = \"graalvm\",\r\n    version = \"20.0.2\",  # earlier version format like `22.x` also supported\r\n    distribution = \"ce\",  # `oracle`, `ce`, or `community`\r\n    java_version = \"20\",  # `17`, `20`, or `21`, as supported by the version provided\r\n    components = [\r\n       # if you need components like `js` or `wasm`, add them here\r\n    ],\r\n)\r\nuse_repo(gvm, \"graalvm\")\r\nregister_toolchains(\"@graalvm//:jvm\")\r\nregister_toolchains(\"@graalvm//:sdk\")\r\n```\r\n\r\n| Artifact | Integrity value |\r\n| ------- | --------------- |\r\n| `rules_graalvm-0.10.1.zip` | `sha256-ym+mSZITmj/QT9h4hXMZ1LhlyAYk5qc5Z9NAvk9ky1I=` |\r\n| `rules_graalvm-0.10.1.tgz` | `sha256-E/plJ4lVNKZleiTnAvkI1jklzqDo+dXZJral9HOfkcI=` |\r\n\r\n#### Using GraalVM as your Java toolchain\r\n\r\n**Via `WORKSPACE.bazel`:**\r\n```starlark\r\n# graalvm_repository(...)\r\n```\r\n```starlark\r\nload(\"@rules_graalvm//graalvm:workspace.bzl\", \"register_graalvm_toolchains\")\r\n\r\nregister_graalvm_toolchains()\r\n```\r\n\r\n**Via Bzlmod:**\r\n```starlark\r\nregister_toolchains(\"@graalvm//:sdk\")\r\nregister_toolchains(\"@graalvm//:jvm\")\r\n```\r\n\r\n**To _use_ the toolchain, add this to your `.bazelrc`:**\r\n```\r\nbuild --extra_toolchains=@graalvm//:jvm\r\nbuild --java_runtime_version=graalvm_20\r\n```\r\n\r\n> [!NOTE]  \r\n> If you name your repository `example` and set the Java version to `21`, your `java_runtime_version` would be `example_21`, and your toolchain repo would be `@example_toolchains`.\r\n\r\n---\r\n\r\n# Release Notes\r\n\r\nSee below for **breaking changes** in this release, and then everything else that changed.\r\n\r\n## Breaking changes\r\n\r\n- **The `default_executable_name` attribute and parameter has been renamed to `executable_name`.**\r\n  This is because there is no other executable name parameter; setting this attribute will unconditionally change the output binary name.\r\n\r\n- **Legacy GVM is only usable with the legacy rules.**\r\n  Previously, it was possible to use a rather old version of GraalVM (Java 11-era) with the new-style rules. This use is no longer supported because older versions of `native-image` show incompatibilities with Bazel's process wrapper.\r\n\r\n- **Native image builds will now respect Bazel flags like `--compilation_mode=opt`.**\r\n  Defaults have been left to GraalVM to maintain backward compatibility with the default case, which builds binaries with `-O2` (optimizations on). However, this is still a breaking change because the behavior will be different if `--compilation_mode` was being explicitly set to any value other than `opt`. Note that Bazel's default value of `fastbuild` also applies here, so passing _no value at all_ **will** result in a behavior change (`opt` â†’ `fastbuild`).\r\n\r\n- **The order of options passed to `native-image` has changed.**\r\n  Attributes like `extra_args` now pass later on the command line (last, actually, for `extra_args`); because `native-image` options are last-wins, this should allow overriding _any_ of the flags injected by the rules. This should offer users a path forward even if the flags passed by the rules are incompatible in some way. This change in the order of action arguments may result in cache misses. Otherwise, this change should be transparent to rule users.\r\n\r\n- **Hermetic build environment improvements.**\r\n  The parameter `use_default_shell_env` is no longer passed to the underlying `native-image` compile action; instead, the toolchain environment is assembled for strict use. Native compiler environment variables like `INCLUDE`, `LIB`, `DEVELOPER_DIR`, and `SDKROOT` no longer need to be passed via `--action_env`.\r\n\r\n- **Toolchain targets and registration.**\r\n  See below for an exhaustive description, but basically, the registration calls for toolchains need to change, but only for users who are consuming via Bzlmod.\r\n\r\n### Breaking changes: Toolchain registration\r\n\r\nWhen registering toolchains in a Bzlmod installation of these rules, the target `@graalvm//:all` must be changed to two toolchain registrations, based on the desired functionality:\r\n\r\n**Register the Java toolchain:**\r\n```starlark\r\nregister_toolchains(\"@graalvm_toolchains//:toolchain\")\r\n```\r\n\r\n**Register the GVM toolchain:**\r\n```starlark\r\nregister_toolchains(\"@graalvm_toolchains//:toolchain_gvm\")\r\n```\r\n\r\n**To keep the `:all` target:**\r\n```starlark\r\nregister_toolchains(\"@graalvm_toolchains//:all\")\r\n```\r\n\r\n## PRs and issues\r\n\r\n**Mainline work:**\r\n- [feat: graalvm artifact mappings](#106)\r\n- [fix: install requested components plus deps](#101)\r\n- [fix: typo in gu post-install actions](#99)\r\n- [feat: bazel settings integration](#86)\r\n- [test: add more feature integration tests](#84)\r\n- [fix(toolchain): add alias indirection for gvm toolchain](#82)\r\n- [fix(native_image): fix C++ toolchain env setup](#72)\r\n- [feat(native_image): add static_zlib](#73)\r\n- [fix: bcr tarball endpoint](#76)\r\n- [fix(native_image): clean up args building](#71)\r\n- [fix(native_image): clean up construction of inputs](#70)\r\n- [fix(native_image): use `;` as classpath separator on windows](#68)\r\n- [docs: fix api docs and publish flow](#63)\r\n\r\n**Related solved issues:**\r\n- [Typo in the gu post-install actions](#102)\r\n- [Component direct dependencies not installed](#100)\r\n- [Ability to build a shared library](#85)\r\n- [Bazel Settings Propagation](#78)\r\n- [Populate environment for macOS builds](#67)\r\n- [Download GraalVM distributions lazily](#66)\r\n\r\n## What's Changed\r\n* docs: fix api docs and publish flow by @sgammon in https://github.com/sgammon/rules_graalvm/pull/63\r\n* chore(deps): lock file maintenance by @renovate in https://github.com/sgammon/rules_graalvm/pull/64\r\n* Use `;` as classpath separator on Windows by @fmeum in https://github.com/sgammon/rules_graalvm/pull/68\r\n* chore(deps): bump github/codeql-action from 2.21.4 to 2.21.5 by @dependabot in https://github.com/sgammon/rules_graalvm/pull/65\r\n* fix(native_image): clean up args building by @fmeum in https://github.com/sgammon/rules_graalvm/pull/71\r\n* fix(native_image): clean up construction of inputs by @fmeum in https://github.com/sgammon/rules_graalvm/pull/70\r\n* chore(deps-dev): bump prettier from 3.0.2 to 3.0.3 by @dependabot in https://github.com/sgammon/rules_graalvm/pull/69\r\n* fix: bcr tarball endpoint by @sgammon in https://github.com/sgammon/rules_graalvm/pull/76\r\n* fix: install requested components plus deps by @sgammon in https://github.com/sgammon/rules_graalvm/pull/101\r\n* chore(deps): lock file maintenance by @renovate in https://github.com/sgammon/rules_graalvm/pull/103\r\n* chore(deps): lock file maintenance by @renovate in https://github.com/sgammon/rules_graalvm/pull/104\r\n* chore(deps-dev): bump prettier-plugin-java from 2.3.0 to 2.3.1 by @dependabot in https://github.com/sgammon/rules_graalvm/pull/110\r\n* chore(deps): bump actions/checkout from 3.6.0 to 4.0.0 by @dependabot in https://github.com/sgammon/rules_graalvm/pull/111\r\n* chore(deps): bump actions/upload-artifact from 3.1.2 to 3.1.3 by @dependabot in https://github.com/sgammon/rules_graalvm/pull/112\r\n* Release: `0.10.x` by @sgammon in https://github.com/sgammon/rules_graalvm/pull/80\r\n* chore: apply hardening to ci by @step-security-bot in https://github.com/sgammon/rules_graalvm/pull/115\r\n* chore: issue fix release â†’ `0.10.1` by @sgammon in https://github.com/sgammon/rules_graalvm/pull/122\r\n\r\n\r\n**Full Changelog**: https://github.com/sgammon/rules_graalvm/compare/v0.9.2...v0.10.1\r\n","mentions_count":6},{"url":"https://api.github.com/repos/sgammon/rules_graalvm/releases/120378929","assets_url":"https://api.github.com/repos/sgammon/rules_graalvm/releases/120378929/assets","upload_url":"https://uploads.github.com/repos/sgammon/rules_graalvm/releases/120378929/assets{?name,label}","html_url":"https://github.com/sgammon/rules_graalvm/releases/tag/v0.10.0","id":120378929,"author":{"login":"sgammon","id":171897,"node_id":"MDQ6VXNlcjE3MTg5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/171897?v=4","gravatar_id":"","url":"https://api.github.com/users/sgammon","html_url":"https://github.com/sgammon","followers_url":"https://api.github.com/users/sgammon/followers","following_url":"https://api.github.com/users/sgammon/following{/other_user}","gists_url":"https://api.github.com/users/sgammon/gists{/gist_id}","starred_url":"https://api.github.com/users/sgammon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgammon/subscriptions","organizations_url":"https://api.github.com/users/sgammon/orgs","repos_url":"https://api.github.com/users/sgammon/repos","events_url":"https://api.github.com/users/sgammon/events{/privacy}","received_events_url":"https://api.github.com/users/sgammon/received_events","type":"User","site_admin":false},"node_id":"RE_kwDODhdnIc4HLNYx","tag_name":"v0.10.0","target_commitish":"main","name":"Release v0.10.0","draft":false,"prerelease":false,"created_at":"2023-09-08T06:36:26Z","published_at":"2023-09-08T06:08:31Z","assets":[{"url":"https://api.github.com/repos/sgammon/rules_graalvm/releases/assets/125093710","id":125093710,"node_id":"RA_kwDODhdnIc4HdMdO","name":"rules_graalvm-0.10.0.tgz","label":null,"uploader":{"login":"sgammon","id":171897,"node_id":"MDQ6VXNlcjE3MTg5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/171897?v=4","gravatar_id":"","url":"https://api.github.com/users/sgammon","html_url":"https://github.com/sgammon","followers_url":"https://api.github.com/users/sgammon/followers","following_url":"https://api.github.com/users/sgammon/following{/other_user}","gists_url":"https://api.github.com/users/sgammon/gists{/gist_id}","starred_url":"https://api.github.com/users/sgammon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgammon/subscriptions","organizations_url":"https://api.github.com/users/sgammon/orgs","repos_url":"https://api.github.com/users/sgammon/repos","events_url":"https://api.github.com/users/sgammon/events{/privacy}","received_events_url":"https://api.github.com/users/sgammon/received_events","type":"User","site_admin":false},"content_type":"application/gzip","state":"uploaded","size":163608,"download_count":2,"created_at":"2023-09-08T06:33:23Z","updated_at":"2023-09-08T06:33:24Z","browser_download_url":"https://github.com/sgammon/rules_graalvm/releases/download/v0.10.0/rules_graalvm-0.10.0.tgz"},{"url":"https://api.github.com/repos/sgammon/rules_graalvm/releases/assets/125093711","id":125093711,"node_id":"RA_kwDODhdnIc4HdMdP","name":"rules_graalvm-0.10.0.zip","label":null,"uploader":{"login":"sgammon","id":171897,"node_id":"MDQ6VXNlcjE3MTg5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/171897?v=4","gravatar_id":"","url":"https://api.github.com/users/sgammon","html_url":"https://github.com/sgammon","followers_url":"https://api.github.com/users/sgammon/followers","following_url":"https://api.github.com/users/sgammon/following{/other_user}","gists_url":"https://api.github.com/users/sgammon/gists{/gist_id}","starred_url":"https://api.github.com/users/sgammon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgammon/subscriptions","organizations_url":"https://api.github.com/users/sgammon/orgs","repos_url":"https://api.github.com/users/sgammon/repos","events_url":"https://api.github.com/users/sgammon/events{/privacy}","received_events_url":"https://api.github.com/users/sgammon/received_events","type":"User","site_admin":false},"content_type":"application/zip","state":"uploaded","size":211746,"download_count":13,"created_at":"2023-09-08T06:33:24Z","updated_at":"2023-09-08T06:33:25Z","browser_download_url":"https://github.com/sgammon/rules_graalvm/releases/download/v0.10.0/rules_graalvm-0.10.0.zip"}],"tarball_url":"https://api.github.com/repos/sgammon/rules_graalvm/tarball/v0.10.0","zipball_url":"https://api.github.com/repos/sgammon/rules_graalvm/zipball/v0.10.0","body":"> [!WARNING] \r\n> **This release will be yanked** as a result of some [fingerprint issues](https://github.com/bazelbuild/bazel-central-registry/pull/836) that arose while publishing to BCR. The [`0.10.1`](https://github.com/sgammon/rules_graalvm/releases/v0.10.1) release is otherwise identical.\r\n"},{"url":"https://api.github.com/repos/sgammon/rules_graalvm/releases/120375274","assets_url":"https://api.github.com/repos/sgammon/rules_graalvm/releases/120375274/assets","upload_url":"https://uploads.github.com/repos/sgammon/rules_graalvm/releases/120375274/assets{?name,label}","html_url":"https://github.com/sgammon/rules_graalvm/releases/tag/v0.10.0-rc1","id":120375274,"author":{"login":"sgammon","id":171897,"node_id":"MDQ6VXNlcjE3MTg5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/171897?v=4","gravatar_id":"","url":"https://api.github.com/users/sgammon","html_url":"https://github.com/sgammon","followers_url":"https://api.github.com/users/sgammon/followers","following_url":"https://api.github.com/users/sgammon/following{/other_user}","gists_url":"https://api.github.com/users/sgammon/gists{/gist_id}","starred_url":"https://api.github.com/users/sgammon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgammon/subscriptions","organizations_url":"https://api.github.com/users/sgammon/orgs","repos_url":"https://api.github.com/users/sgammon/repos","events_url":"https://api.github.com/users/sgammon/events{/privacy}","received_events_url":"https://api.github.com/users/sgammon/received_events","type":"User","site_admin":false},"node_id":"RE_kwDODhdnIc4HLMfq","tag_name":"v0.10.0-rc1","target_commitish":"main","name":"Pre-Release: 0.10.0-rc1","draft":false,"prerelease":true,"created_at":"2023-09-08T04:40:33Z","published_at":"2023-09-08T04:48:21Z","assets":[{"url":"https://api.github.com/repos/sgammon/rules_graalvm/releases/assets/125089706","id":125089706,"node_id":"RA_kwDODhdnIc4HdLeq","name":"rules_graalvm-0.10.0-rc1.zip","label":null,"uploader":{"login":"sgammon","id":171897,"node_id":"MDQ6VXNlcjE3MTg5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/171897?v=4","gravatar_id":"","url":"https://api.github.com/users/sgammon","html_url":"https://github.com/sgammon","followers_url":"https://api.github.com/users/sgammon/followers","following_url":"https://api.github.com/users/sgammon/following{/other_user}","gists_url":"https://api.github.com/users/sgammon/gists{/gist_id}","starred_url":"https://api.github.com/users/sgammon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgammon/subscriptions","organizations_url":"https://api.github.com/users/sgammon/orgs","repos_url":"https://api.github.com/users/sgammon/repos","events_url":"https://api.github.com/users/sgammon/events{/privacy}","received_events_url":"https://api.github.com/users/sgammon/received_events","type":"User","site_admin":false},"content_type":"application/zip","state":"uploaded","size":397923,"download_count":10,"created_at":"2023-09-08T05:41:53Z","updated_at":"2023-09-08T05:41:55Z","browser_download_url":"https://github.com/sgammon/rules_graalvm/releases/download/v0.10.0-rc1/rules_graalvm-0.10.0-rc1.zip"}],"tarball_url":"https://api.github.com/repos/sgammon/rules_graalvm/tarball/v0.10.0-rc1","zipball_url":"https://api.github.com/repos/sgammon/rules_graalvm/zipball/v0.10.0-rc1","body":"## Summary\r\n\r\nThis pre-release tests the release flow ahead of the [`0.10.0`](https://github.com/sgammon/rules_graalvm/pull/80) release. This release is pretty big and includes the following updates.\r\n\r\n> [!IMPORTANT]  \r\n> There are some **backward-incompatible** changes in this release which involve the way toolchains are registered. Most users should have no problem upgrading; if you are using `@graalvm_toolchain_config_repo` targets directly, you will need to change them to `@graalvm_toolchains`. See the _Breaking changes_ section below for more information.\r\n\r\n## Installation\r\n\r\n**Via `WORKSPACE.bazel`:**\r\n```starlark\r\nhttp_archive(\r\n    name = \"rules_graalvm\",\r\n    sha256 = None,  # varies\r\n    strip_prefix = \"rules_graalvm-0.10.0-rc1\",\r\n    urls = [\r\n        \"https://github.com/sgammon/rules_graalvm/releases/download/v0.10.0-rc1/rules_graalvm-0.10.0-rc1.zip\",\r\n    ],\r\n)\r\n```\r\n```starlark\r\nload(\"@rules_graalvm//graalvm:repositories.bzl\", \"graalvm_repository\")\r\n```\r\n```starlark\r\ngraalvm_repository(\r\n    name = \"graalvm\",\r\n    components = [\r\n       # if you need components like `js` or `wasm`, add them here\r\n    ],\r\n    distribution = \"ce\",  # `oracle`, `ce`, or `community`\r\n    java_version = \"20\",  # `17`, `20`, or `21`, as supported by the version provided\r\n    version = \"20.0.2\",  # earlier version format like `22.x` also supported\r\n)\r\n```\r\n\r\n**Or, via `MODULE.bazel`:**\r\n\r\n> [!IMPORTANT]  \r\n> To use Bzlmod with `rules_graalvm`, you will need the `archive_override` below (until this package is made available on BCR).\r\n\r\n```starlark\r\nbazel_dep(name = \"rules_graalvm\", version = \"0.10.0-rc1\")\r\n```\r\n```starlark\r\n# Until we ship to BCR:\r\narchive_override(\r\n    module_name = \"rules_graalvm\",\r\n    urls = [\"https://github.com/sgammon/rules_graalvm/releases/download/v0.10.0-rc1/rules_graalvm-0.10.0-rc1.zip\"],\r\n    strip_prefix = \"rules_graalvm-0.10.0-rc1\",\r\n    integrity = None,  # varies\r\n)\r\n```\r\n```starlark\r\ngvm = use_extension(\"@rules_graalvm//:extensions.bzl\", \"graalvm\")\r\n\r\ngvm.graalvm(\r\n    name = \"graalvm\",\r\n    version = \"20.0.2\",  # earlier version format like `22.x` also supported\r\n    distribution = \"ce\",  # `oracle`, `ce`, or `community`\r\n    java_version = \"20\",  # `17`, `20`, or `21`, as supported by the version provided\r\n    components = [\r\n       # if you need components like `js` or `wasm`, add them here\r\n    ],\r\n)\r\nuse_repo(gvm, \"graalvm\")\r\nregister_toolchains(\"@graalvm//:jvm\")\r\nregister_toolchains(\"@graalvm//:sdk\")\r\n```\r\n\r\n#### Using GraalVM as your Java toolchain\r\n\r\n**Via `WORKSPACE.bazel`:**\r\n```starlark\r\n# graalvm_repository(...)\r\n```\r\n```starlark\r\nload(\"@rules_graalvm//graalvm:workspace.bzl\", \"register_graalvm_toolchains\")\r\n\r\nregister_graalvm_toolchains()\r\n```\r\n\r\n**Via Bzlmod:**\r\n```starlark\r\nregister_toolchains(\"@graalvm//:sdk\")\r\nregister_toolchains(\"@graalvm//:jvm\")\r\n```\r\n\r\n**To _use_ the toolchain, add this to your `.bazelrc`:**\r\n```\r\nbuild --extra_toolchains=@graalvm//:jvm\r\nbuild --java_runtime_version=graalvm_20\r\n```\r\n\r\n> [!NOTE]  \r\n> If you name your repository `example` and set the Java version to `21`, your `java_runtime_version` would be `example_21`, and your toolchain repo would be `@example_toolchains`.\r\n\r\n---\r\n\r\n## PRs and issues\r\n\r\n**Mainline work:**\r\n- #106\r\n- #101\r\n- #99\r\n- #86\r\n- #84\r\n- #82\r\n- #72 \r\n- #73\r\n- #76\r\n- #71 \r\n- #70\r\n- #68 \r\n- #63 \r\n\r\n**Dependency updates:**\r\n- #112\r\n- #111\r\n- #110\r\n- #104\r\n- #93 \r\n- #94 \r\n- #95 \r\n- #96 \r\n- #97 \r\n- #98\r\n\r\n**Related solved issues:**\r\n- #102\r\n- #100 \r\n- #85 \r\n- #78 \r\n- #67 \r\n- #66\r\n\r\n## Breaking changes\r\n\r\n- **The `default_executable_name` attribute and parameter has been renamed to `executable_name`.**\r\n  This is because there is no other executable name parameter; setting this attribute will unconditionally change the output binary name.\r\n\r\n- **Legacy GVM is only usable with the legacy rules.**\r\n  Previously, it was possible to use a rather old version of GraalVM (Java 11-era) with the new-style rules. This use is no longer supported because older versions of `native-image` show incompatibilities with Bazel's process wrapper.\r\n\r\n- **Native image builds will now respect Bazel flags like `--compilation_mode=opt`.**\r\n  Defaults have been left to GraalVM to maintain backward compatibility with the default case, which builds binaries with `-O2` (optimizations on). However, this is still a breaking change because the behavior will be different if `--compilation_mode` was being explicitly set to any value other than `opt`. Note that Bazel's default value of `fastbuild` also applies here, so passing _no value at all_ **will** result in a behavior change (`opt` â†’ `fastbuild`).\r\n\r\n- **The order of options passed to `native-image` has changed.**\r\n  Attributes like `extra_args` now pass later on the command line (last, actually, for `extra_args`); because `native-image` options are last-wins, this should allow overriding _any_ of the flags injected by the rules. This should offer users a path forward even if the flags passed by the rules are incompatible in some way. This change in the order of action arguments may result in cache misses. Otherwise, this change should be transparent to rule users.\r\n\r\n- **Hermetic build environment improvements.**\r\n  The parameter `use_default_shell_env` is no longer passed to the underlying `native-image` compile action; instead, the toolchain environment is assembled for strict use. Native compiler environment variables like `INCLUDE`, `LIB`, `DEVELOPER_DIR`, and `SDKROOT` no longer need to be passed via `--action_env`.\r\n\r\n- **Toolchain targets and registration.**\r\n  See below for an exhaustive description, but basically, the registration calls for toolchains need to change, but only for users who are consuming via Bzlmod.\r\n\r\n### Breaking changes: Toolchain registration\r\n\r\nWhen registering toolchains in a Bzlmod installation of these rules, the target `@graalvm//:all` must be changed to two toolchain registrations, based on the desired functionality:\r\n\r\n**Register the Java toolchain:**\r\n```starlark\r\nregister_toolchains(\"@graalvm_toolchains//:toolchain\")\r\n```\r\n\r\n**Register the GVM toolchain:**\r\n```starlark\r\nregister_toolchains(\"@graalvm_toolchains//:toolchain_gvm\")\r\n```\r\n\r\n**To keep the `:all` target:**\r\n```starlark\r\nregister_toolchains(\"@graalvm_toolchains//:all\")\r\n```\r\n\r\n## What's Changed\r\n\r\n* docs: fix api docs and publish flow by @sgammon in https://github.com/sgammon/rules_graalvm/pull/63\r\n* chore(deps): lock file maintenance by @renovate in https://github.com/sgammon/rules_graalvm/pull/64\r\n* Use `;` as classpath separator on Windows by @fmeum in https://github.com/sgammon/rules_graalvm/pull/68\r\n* chore(deps): bump github/codeql-action from 2.21.4 to 2.21.5 by @dependabot in https://github.com/sgammon/rules_graalvm/pull/65\r\n* fix(native_image): clean up args building by @fmeum in https://github.com/sgammon/rules_graalvm/pull/71\r\n* fix(native_image): clean up construction of inputs by @fmeum in https://github.com/sgammon/rules_graalvm/pull/70\r\n* chore(deps-dev): bump prettier from 3.0.2 to 3.0.3 by @dependabot in https://github.com/sgammon/rules_graalvm/pull/69\r\n* fix: bcr tarball endpoint by @sgammon in https://github.com/sgammon/rules_graalvm/pull/76\r\n* fix: install requested components plus deps by @sgammon in https://github.com/sgammon/rules_graalvm/pull/101\r\n* chore(deps): lock file maintenance by @renovate in https://github.com/sgammon/rules_graalvm/pull/103\r\n* chore(deps): lock file maintenance by @renovate in https://github.com/sgammon/rules_graalvm/pull/104\r\n* chore(deps-dev): bump prettier-plugin-java from 2.3.0 to 2.3.1 by @dependabot in https://github.com/sgammon/rules_graalvm/pull/110\r\n* chore(deps): bump actions/checkout from 3.6.0 to 4.0.0 by @dependabot in https://github.com/sgammon/rules_graalvm/pull/111\r\n* chore(deps): bump actions/upload-artifact from 3.1.2 to 3.1.3 by @dependabot in https://github.com/sgammon/rules_graalvm/pull/112\r\n\r\n**Full Changelog**: https://github.com/sgammon/rules_graalvm/compare/v0.9.2...v0.10.0-rc1\r\n","mentions_count":4},{"url":"https://api.github.com/repos/sgammon/rules_graalvm/releases/118800947","assets_url":"https://api.github.com/repos/sgammon/rules_graalvm/releases/118800947/assets","upload_url":"https://uploads.github.com/repos/sgammon/rules_graalvm/releases/118800947/assets{?name,label}","html_url":"https://github.com/sgammon/rules_graalvm/releases/tag/v0.9.2","id":118800947,"author":{"login":"sgammon","id":171897,"node_id":"MDQ6VXNlcjE3MTg5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/171897?v=4","gravatar_id":"","url":"https://api.github.com/users/sgammon","html_url":"https://github.com/sgammon","followers_url":"https://api.github.com/users/sgammon/followers","following_url":"https://api.github.com/users/sgammon/following{/other_user}","gists_url":"https://api.github.com/users/sgammon/gists{/gist_id}","starred_url":"https://api.github.com/users/sgammon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgammon/subscriptions","organizations_url":"https://api.github.com/users/sgammon/orgs","repos_url":"https://api.github.com/users/sgammon/repos","events_url":"https://api.github.com/users/sgammon/events{/privacy}","received_events_url":"https://api.github.com/users/sgammon/received_events","type":"User","site_admin":false},"node_id":"RE_kwDODhdnIc4HFMIz","tag_name":"v0.9.2","target_commitish":"main","name":"v0.9.2","draft":false,"prerelease":false,"created_at":"2023-08-26T09:11:00Z","published_at":"2023-08-26T09:07:00Z","assets":[{"url":"https://api.github.com/repos/sgammon/rules_graalvm/releases/assets/123205144","id":123205144,"node_id":"RA_kwDODhdnIc4HV_YY","name":"rules_graalvm-0.9.2.tar.gz","label":null,"uploader":{"login":"sgammon","id":171897,"node_id":"MDQ6VXNlcjE3MTg5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/171897?v=4","gravatar_id":"","url":"https://api.github.com/users/sgammon","html_url":"https://github.com/sgammon","followers_url":"https://api.github.com/users/sgammon/followers","following_url":"https://api.github.com/users/sgammon/following{/other_user}","gists_url":"https://api.github.com/users/sgammon/gists{/gist_id}","starred_url":"https://api.github.com/users/sgammon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgammon/subscriptions","organizations_url":"https://api.github.com/users/sgammon/orgs","repos_url":"https://api.github.com/users/sgammon/repos","events_url":"https://api.github.com/users/sgammon/events{/privacy}","received_events_url":"https://api.github.com/users/sgammon/received_events","type":"User","site_admin":false},"content_type":"application/x-gzip","state":"uploaded","size":229171,"download_count":5,"created_at":"2023-08-26T09:06:50Z","updated_at":"2023-08-26T09:06:51Z","browser_download_url":"https://github.com/sgammon/rules_graalvm/releases/download/v0.9.2/rules_graalvm-0.9.2.tar.gz"},{"url":"https://api.github.com/repos/sgammon/rules_graalvm/releases/assets/123205146","id":123205146,"node_id":"RA_kwDODhdnIc4HV_Ya","name":"rules_graalvm-0.9.2.zip","label":null,"uploader":{"login":"sgammon","id":171897,"node_id":"MDQ6VXNlcjE3MTg5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/171897?v=4","gravatar_id":"","url":"https://api.github.com/users/sgammon","html_url":"https://github.com/sgammon","followers_url":"https://api.github.com/users/sgammon/followers","following_url":"https://api.github.com/users/sgammon/following{/other_user}","gists_url":"https://api.github.com/users/sgammon/gists{/gist_id}","starred_url":"https://api.github.com/users/sgammon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgammon/subscriptions","organizations_url":"https://api.github.com/users/sgammon/orgs","repos_url":"https://api.github.com/users/sgammon/repos","events_url":"https://api.github.com/users/sgammon/events{/privacy}","received_events_url":"https://api.github.com/users/sgammon/received_events","type":"User","site_admin":false},"content_type":"application/zip","state":"uploaded","size":316906,"download_count":67,"created_at":"2023-08-26T09:06:51Z","updated_at":"2023-08-26T09:06:52Z","browser_download_url":"https://github.com/sgammon/rules_graalvm/releases/download/v0.9.2/rules_graalvm-0.9.2.zip"}],"tarball_url":"https://api.github.com/repos/sgammon/rules_graalvm/tarball/v0.9.2","zipball_url":"https://api.github.com/repos/sgammon/rules_graalvm/zipball/v0.9.2","body":"## Summary\r\n\r\nThis release focused on compatibility fixes for issues reported in:\r\n\r\n- #56 \r\n- #57 \r\n\r\nCompatibility with `rules_graal` is now much smoother, with fewer changes required and previous versions of GraalVM under continuous test. Tests have been added for CE 17/20 and Oracle 17/20, as well as older versions of GraalVM and the previous use style of the rules.\r\n\r\n> [!WARNING]  \r\n> Previous releases of this package defaulted the `distribution` attribute to `oracle`. This was unintended. In this new release, the `distribution` defaults to Community Edition. This is a breaking change.\r\n\r\n### Usage\r\n\r\n**Via `WORKSPACE.bazel`:**\r\n```starlark\r\nhttp_archive(\r\n    name = \"rules_graalvm\",\r\n    sha256 = \"baf82fa979fe4c1c90fe676dfe80aea5a70bb6a8287c3d6d1d4418c0f3a3b2b2\",\r\n    strip_prefix = \"rules_graalvm-0.9.2\",\r\n    urls = [\r\n        \"https://github.com/sgammon/rules_graalvm/releases/download/v0.9.2/rules_graalvm-0.9.2.zip\",\r\n    ],\r\n)\r\n```\r\n```starlark\r\nload(\"@rules_graalvm//graalvm:repositories.bzl\", \"graalvm_repository\")\r\n```\r\n```starlark\r\ngraalvm_repository(\r\n    name = \"graalvm\",\r\n    components = [\r\n       # if you need components like `js` or `wasm`, add them here\r\n    ],\r\n    distribution = \"ce\",  # `oracle`, `ce`, or `community`\r\n    java_version = \"20\",  # `17`, `20`, or `21`, as supported by the version provided\r\n    version = \"20.0.2\",  # earlier version format like `22.x` also supported\r\n)\r\n```\r\n\r\n**Or, via `MODULE.bazel`:**\r\n\r\n> [!IMPORTANT]  \r\n> To use Bzlmod with `rules_graalvm`, you will need the `archive_override` below (until this package is made available on BCR).\r\n\r\n```starlark\r\nbazel_dep(name = \"rules_graalvm\", version = \"0.9.2\")\r\n```\r\n```starlark\r\n# Until we ship to BCR:\r\narchive_override(\r\n    module_name = \"rules_graalvm\",\r\n    urls = [\"https://github.com/sgammon/rules_graalvm/releases/download/v0.9.2/rules_graalvm-0.9.2.zip\"],\r\n    strip_prefix = \"rules_graalvm-0.9.2\",\r\n    integrity = \"sha256-uvgvqXn+TByQ/mdt/oCupacLtqgofD1tHUQYwPOjsrI=\",\r\n)\r\n```\r\n```starlark\r\ngvm = use_extension(\"@rules_graalvm//:extensions.bzl\", \"graalvm\")\r\n\r\ngvm.graalvm(\r\n    name = \"graalvm\",\r\n    version = \"20.0.2\",  # earlier version format like `22.x` also supported\r\n    distribution = \"ce\",  # `oracle`, `ce`, or `community`\r\n    java_version = \"20\",  # `17`, `20`, or `21`, as supported by the version provided\r\n    components = [\r\n       # if you need components like `js` or `wasm`, add them here\r\n    ],\r\n)\r\nuse_repo(gvm, \"graalvm\")\r\nregister_toolchains(\"@graalvm//:all\")\r\n```\r\n\r\n#### Using GraalVM as your Java toolchain\r\n\r\n**Via `WORKSPACE.bazel`:**\r\n```starlark\r\n# graalvm_repository(...)\r\n```\r\n```starlark\r\nload(\"@rules_graalvm//graalvm:workspace.bzl\", \"register_graalvm_toolchains\")\r\n\r\nregister_graalvm_toolchains()\r\n```\r\n\r\n**Via Bzlmod:**\r\n```starlark\r\nregister_toolchains(\"@graalvm//:all\")\r\n```\r\n\r\n**To _use_ the toolchain, add this to your `.bazelrc`:**\r\n```\r\nbuild --extra_toolchains=@graalvm//:toolchain\r\nbuild --java_runtime_version=graalvm_20\r\n```\r\n\r\n> [!NOTE]  \r\n> If you name your repository `example` and set the Java version to `21`, your `java_runtime_version` would be `example_21`.\r\n\r\n\r\n--\r\n\r\n## What's Changed\r\n* chore(deps): lock file maintenance by @renovate in https://github.com/sgammon/rules_graalvm/pull/49\r\n* fix issues native image migration by @johnynek in https://github.com/sgammon/rules_graalvm/pull/58\r\n* chore(deps): update dependency aspect_rules_js to v1.32.0 by @renovate in https://github.com/sgammon/rules_graalvm/pull/42\r\n* fix: download urls, legacy rule compatibility by @sgammon in https://github.com/sgammon/rules_graalvm/pull/61\r\n\r\n## New Contributors\r\n* @johnynek made their first contribution in https://github.com/sgammon/rules_graalvm/pull/58\r\n\r\n**Full Changelog**: https://github.com/sgammon/rules_graalvm/compare/v0.9.1...v0.9.2","mentions_count":3},{"url":"https://api.github.com/repos/sgammon/rules_graalvm/releases/118313661","assets_url":"https://api.github.com/repos/sgammon/rules_graalvm/releases/118313661/assets","upload_url":"https://uploads.github.com/repos/sgammon/rules_graalvm/releases/118313661/assets{?name,label}","html_url":"https://github.com/sgammon/rules_graalvm/releases/tag/v0.9.1","id":118313661,"author":{"login":"sgammon","id":171897,"node_id":"MDQ6VXNlcjE3MTg5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/171897?v=4","gravatar_id":"","url":"https://api.github.com/users/sgammon","html_url":"https://github.com/sgammon","followers_url":"https://api.github.com/users/sgammon/followers","following_url":"https://api.github.com/users/sgammon/following{/other_user}","gists_url":"https://api.github.com/users/sgammon/gists{/gist_id}","starred_url":"https://api.github.com/users/sgammon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgammon/subscriptions","organizations_url":"https://api.github.com/users/sgammon/orgs","repos_url":"https://api.github.com/users/sgammon/repos","events_url":"https://api.github.com/users/sgammon/events{/privacy}","received_events_url":"https://api.github.com/users/sgammon/received_events","type":"User","site_admin":false},"node_id":"RE_kwDODhdnIc4HDVK9","tag_name":"v0.9.1","target_commitish":"main","name":"v0.9.1","draft":false,"prerelease":false,"created_at":"2023-08-23T02:10:23Z","published_at":"2023-08-23T02:14:58Z","assets":[{"url":"https://api.github.com/repos/sgammon/rules_graalvm/releases/assets/122696273","id":122696273,"node_id":"RA_kwDODhdnIc4HUDJR","name":"rules_graalvm-0.9.1.tar.gz","label":null,"uploader":{"login":"sgammon","id":171897,"node_id":"MDQ6VXNlcjE3MTg5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/171897?v=4","gravatar_id":"","url":"https://api.github.com/users/sgammon","html_url":"https://github.com/sgammon","followers_url":"https://api.github.com/users/sgammon/followers","following_url":"https://api.github.com/users/sgammon/following{/other_user}","gists_url":"https://api.github.com/users/sgammon/gists{/gist_id}","starred_url":"https://api.github.com/users/sgammon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgammon/subscriptions","organizations_url":"https://api.github.com/users/sgammon/orgs","repos_url":"https://api.github.com/users/sgammon/repos","events_url":"https://api.github.com/users/sgammon/events{/privacy}","received_events_url":"https://api.github.com/users/sgammon/received_events","type":"User","site_admin":false},"content_type":"application/x-gzip","state":"uploaded","size":223204,"download_count":1,"created_at":"2023-08-23T02:12:10Z","updated_at":"2023-08-23T02:12:11Z","browser_download_url":"https://github.com/sgammon/rules_graalvm/releases/download/v0.9.1/rules_graalvm-0.9.1.tar.gz"},{"url":"https://api.github.com/repos/sgammon/rules_graalvm/releases/assets/122696526","id":122696526,"node_id":"RA_kwDODhdnIc4HUDNO","name":"rules_graalvm-0.9.1.zip","label":null,"uploader":{"login":"sgammon","id":171897,"node_id":"MDQ6VXNlcjE3MTg5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/171897?v=4","gravatar_id":"","url":"https://api.github.com/users/sgammon","html_url":"https://github.com/sgammon","followers_url":"https://api.github.com/users/sgammon/followers","following_url":"https://api.github.com/users/sgammon/following{/other_user}","gists_url":"https://api.github.com/users/sgammon/gists{/gist_id}","starred_url":"https://api.github.com/users/sgammon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgammon/subscriptions","organizations_url":"https://api.github.com/users/sgammon/orgs","repos_url":"https://api.github.com/users/sgammon/repos","events_url":"https://api.github.com/users/sgammon/events{/privacy}","received_events_url":"https://api.github.com/users/sgammon/received_events","type":"User","site_admin":false},"content_type":"application/zip","state":"uploaded","size":296700,"download_count":5,"created_at":"2023-08-23T02:14:07Z","updated_at":"2023-08-23T02:14:08Z","browser_download_url":"https://github.com/sgammon/rules_graalvm/releases/download/v0.9.1/rules_graalvm-0.9.1.zip"}],"tarball_url":"https://api.github.com/repos/sgammon/rules_graalvm/tarball/v0.9.1","zipball_url":"https://api.github.com/repos/sgammon/rules_graalvm/zipball/v0.9.1","body":"## Summary\r\n\r\nThis release focuses on:\r\n- Hermeticity improvements for Native Image compilation\r\n- Bazel-native downloads of GraalVM components\r\n- Toolchain-based native image actions\r\n- Script for producing artifact mappings\r\n\r\nThere is a new way to invoke the rules: now, the original rules for Native Image are made available at the familiar location, same as [`rules_graal`](https://github.com/andyscott/rules_graal). This should ease transition for previous users, who should not even need to change imports or targets now ðŸ¥³ \r\n\r\n### Usage\r\n\r\n**Via `WORKSPACE.bazel`:**\r\n```starlark\r\nhttp_archive(\r\n    name = \"rules_graalvm\",\r\n    sha256 = \"f41cc6ccdcacb5aeab7eb9f62223f1f570213b3fd0deeab386ef6188e35486ce\",\r\n    strip_prefix = \"rules_graalvm-0.9.1\",\r\n    urls = [\r\n        \"https://github.com/sgammon/rules_graalvm/releases/download/v0.9.1/rules_graalvm-0.9.1.zip\",\r\n    ],\r\n)\r\n```\r\n```starlark\r\nload(\"@rules_graalvm//graalvm:repositories.bzl\", \"graalvm_repository\")\r\n```\r\n```starlark\r\ngraalvm_repository(\r\n    name = \"graalvm\",\r\n    components = [\r\n       # if you need components like `js` or `wasm`, add them here\r\n    ],\r\n    distribution = \"ce\",  # `oracle`, `ce`, or `community`\r\n    java_version = \"20\",  # `17`, `20`, or `21`, as supported by the version provided\r\n    version = \"20.0.2\",  # earlier version format like `22.x` also supported\r\n)\r\n```\r\n\r\n**Or, via `MODULE.bazel`:**\r\n\r\n> [!IMPORTANT]  \r\n> To use Bzlmod with `rules_graalvm`, you will need the `archive_override` below (until this package is made available on BCR).\r\n\r\n```starlark\r\nbazel_dep(name = \"rules_graalvm\", version = \"0.9.1\")\r\n```\r\n```starlark\r\n# Until we ship to BCR:\r\narchive_override(\r\n    module_name = \"rules_graalvm\",\r\n    urls = [\"https://github.com/sgammon/rules_graalvm/releases/download/v0.9.1/rules_graalvm-0.9.1.zip\"],\r\n    strip_prefix = \"rules_graalvm-0.9.1\",\r\n    integrity = \"sha256-9BzGzNysta6rfrn2IiPx9XAhOz/Q3uqzhu9hiONUhs4=\",\r\n)\r\n```\r\n```starlark\r\ngvm = use_extension(\"@rules_graalvm//:extensions.bzl\", \"graalvm\")\r\n\r\ngvm.graalvm(\r\n    name = \"graalvm\",\r\n    version = \"20.0.2\",  # earlier version format like `22.x` also supported\r\n    distribution = \"oracle\",  # `oracle`, `ce`, or `community`\r\n    java_version = \"20\",  # `17`, `20`, or `21`, as supported by the version provided\r\n    components = [\r\n       # if you need components like `js` or `wasm`, add them here\r\n    ],\r\n)\r\nuse_repo(gvm, \"graalvm\")\r\nregister_toolchains(\"@graalvm//:all\")\r\n```\r\n\r\n#### Using GraalVM as your Java toolchain\r\n\r\n**Via `WORKSPACE.bazel`:**\r\n```starlark\r\n# graalvm_repository(...)\r\n```\r\n```starlark\r\nload(\"@rules_graalvm//graalvm:workspace.bzl\", \"register_graalvm_toolchains\")\r\n\r\nregister_graalvm_toolchains()\r\n```\r\n\r\n**Via Bzlmod:**\r\n```starlark\r\nregister_toolchains(\"@graalvm//:all\")\r\n```\r\n\r\n**To _use_ the toolchain, add this to your `.bazelrc`:**\r\n```\r\nbuild --extra_toolchains=@graalvm//:toolchain\r\nbuild --java_runtime_version=graalvm_20\r\n```\r\n\r\n> [!NOTE]  \r\n> If you name your repository `example` and set the Java version to `21`, your `java_runtime_version` would be `example_21`.\r\n\r\n## What's Changed\r\n* Tooling Improvements by @sgammon in https://github.com/sgammon/rules_graalvm/pull/6\r\n* Tooling, Part 2 by @sgammon in https://github.com/sgammon/rules_graalvm/pull/17\r\n* [StepSecurity] Apply security best practices by @step-security-bot in https://github.com/sgammon/rules_graalvm/pull/22\r\n* chore(deps): bump ossf/scorecard-action from 2.0.6 to 2.2.0 by @dependabot in https://github.com/sgammon/rules_graalvm/pull/14\r\n* chore(deps): bump advanced-security/maven-dependency-submission-action from 3.0.1 to 3.0.2 by @dependabot in https://github.com/sgammon/rules_graalvm/pull/23\r\n* chore(deps): bump microsoft/setup-msbuild from 1.1.3 to 1.3.1 by @dependabot in https://github.com/sgammon/rules_graalvm/pull/19\r\n* chore(deps): bump step-security/harden-runner from 2.5.0 to 2.5.1 by @dependabot in https://github.com/sgammon/rules_graalvm/pull/16\r\n* chore(deps): update googleapis digest to c61daf8 by @renovate in https://github.com/sgammon/rules_graalvm/pull/10\r\n* chore(deps): lock file maintenance by @renovate in https://github.com/sgammon/rules_graalvm/pull/13\r\n* chore(deps-dev): bump prettier from 3.0.0 to 3.0.1 by @dependabot in https://github.com/sgammon/rules_graalvm/pull/20\r\n* chore(deps): bump actions/dependency-review-action from 3.0.7 to 3.0.8 by @dependabot in https://github.com/sgammon/rules_graalvm/pull/25\r\n* chore(deps): bump github/codeql-action from 2.21.3 to 2.21.4 by @dependabot in https://github.com/sgammon/rules_graalvm/pull/26\r\n* fix(docs): move doc targets to `docs` root by @sgammon in https://github.com/sgammon/rules_graalvm/pull/31\r\n* chore(deps-dev): bump prettier from 3.0.1 to 3.0.2 by @dependabot in https://github.com/sgammon/rules_graalvm/pull/32\r\n* docs: add doc for binary targets by @sgammon in https://github.com/sgammon/rules_graalvm/pull/33\r\n* Feature: Support for Bazel 6 by @sgammon in https://github.com/sgammon/rules_graalvm/pull/34\r\n* Feature: Hermetic GraalVM by @sgammon in https://github.com/sgammon/rules_graalvm/pull/35\r\n* chore(deps): update googleapis digest to 83585eb by @renovate in https://github.com/sgammon/rules_graalvm/pull/39\r\n\r\n## New Contributors\r\n* @dependabot made their first contribution in https://github.com/sgammon/rules_graalvm/pull/14\r\n\r\n**Full Changelog**: https://github.com/sgammon/rules_graalvm/compare/v0.9.0...v0.9.1\r\n","mentions_count":4},{"url":"https://api.github.com/repos/sgammon/rules_graalvm/releases/117072299","assets_url":"https://api.github.com/repos/sgammon/rules_graalvm/releases/117072299/assets","upload_url":"https://uploads.github.com/repos/sgammon/rules_graalvm/releases/117072299/assets{?name,label}","html_url":"https://github.com/sgammon/rules_graalvm/releases/tag/v0.9.0","id":117072299,"author":{"login":"sgammon","id":171897,"node_id":"MDQ6VXNlcjE3MTg5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/171897?v=4","gravatar_id":"","url":"https://api.github.com/users/sgammon","html_url":"https://github.com/sgammon","followers_url":"https://api.github.com/users/sgammon/followers","following_url":"https://api.github.com/users/sgammon/following{/other_user}","gists_url":"https://api.github.com/users/sgammon/gists{/gist_id}","starred_url":"https://api.github.com/users/sgammon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgammon/subscriptions","organizations_url":"https://api.github.com/users/sgammon/orgs","repos_url":"https://api.github.com/users/sgammon/repos","events_url":"https://api.github.com/users/sgammon/events{/privacy}","received_events_url":"https://api.github.com/users/sgammon/received_events","type":"User","site_admin":false},"node_id":"RE_kwDODhdnIc4G-mGr","tag_name":"v0.9.0","target_commitish":"main","name":"v0.9.0","draft":false,"prerelease":false,"created_at":"2023-08-13T20:13:04Z","published_at":"2023-08-13T20:22:28Z","assets":[{"url":"https://api.github.com/repos/sgammon/rules_graalvm/releases/assets/121395738","id":121395738,"node_id":"RA_kwDODhdnIc4HPFoa","name":"rules_graalvm-0.9.0.tar.gz","label":null,"uploader":{"login":"sgammon","id":171897,"node_id":"MDQ6VXNlcjE3MTg5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/171897?v=4","gravatar_id":"","url":"https://api.github.com/users/sgammon","html_url":"https://github.com/sgammon","followers_url":"https://api.github.com/users/sgammon/followers","following_url":"https://api.github.com/users/sgammon/following{/other_user}","gists_url":"https://api.github.com/users/sgammon/gists{/gist_id}","starred_url":"https://api.github.com/users/sgammon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sgammon/subscriptions","organizations_url":"https://api.github.com/users/sgammon/orgs","repos_url":"https://api.github.com/users/sgammon/repos","events_url":"https://api.github.com/users/sgammon/events{/privacy}","received_events_url":"https://api.github.com/users/sgammon/received_events","type":"User","site_admin":false},"content_type":"application/x-gzip","state":"uploaded","size":88937,"download_count":19,"created_at":"2023-08-14T03:38:42Z","updated_at":"2023-08-14T03:38:43Z","browser_download_url":"https://github.com/sgammon/rules_graalvm/releases/download/v0.9.0/rules_graalvm-0.9.0.tar.gz"}],"tarball_url":"https://api.github.com/repos/sgammon/rules_graalvm/tarball/v0.9.0","zipball_url":"https://api.github.com/repos/sgammon/rules_graalvm/zipball/v0.9.0","body":"## Summary\r\n\r\nInitial release of the new `rules_graalvm` package; this version was picked because the package internals are already considered mature. Under this rewrite, Bazel 7 is the new support maximum, so mostly we're adjusting to changes in Bazel. GraalVM distributions have also changed, so adjustments have been made to the way GVM installations are resolved and downloaded.\r\n\r\nUnder the hood, `graalvm_repository` now uses the same internals as [`remote_java_repository`](https://bazel.build/docs/bazel-and-java#config-java-toolchains). This allows the downloaded JVM to be used easily as a Java toolchain, and explains to Bazel how to bootstrap the build with it.\r\n\r\nThe `latest` version of the `oracle` GVM distribution can also be downloaded now, and a user can provide their own `sha256` as well. See below for an exhaustive set of release notes and breaking changes from `rules_graal`.\r\n\r\n### Usage\r\n\r\n**Via `WORKSPACE.bazel`:**\r\n```starlark\r\nhttp_archive(\r\n    name = \"rules_graalvm\",\r\n    sha256 = \"96323ac1b7a5b9db1ae1a388c5ed1fb830d4628d3ab4b7f09538558321e03111\",\r\n    strip_prefix = \"rules_graalvm-0.9.0\",\r\n    urls = [\r\n        \"https://github.com/sgammon/rules_graalvm/releases/download/v0.9.0/rules_graalvm-0.9.0.tar.gz\",\r\n    ],\r\n)\r\n```\r\n```starlark\r\nload(\"@rules_graalvm//graalvm:repositories.bzl\", \"graalvm_repository\")\r\n```\r\n```starlark\r\ngraalvm_repository(\r\n    name = \"graalvm\",\r\n    components = [\r\n       # if you need components like `js` or `wasm`, add them here\r\n    ],\r\n    distribution = \"oracle\",  # `oracle`, `ce`, or `community`\r\n    java_version = \"20\",  # `17`, `20`, or `21`, as supported by the version provided\r\n    version = \"20.0.2\",  # earlier version format like `22.x` also supported\r\n)\r\n```\r\n\r\n**Or, via `MODULE.bazel`:**\r\n\r\n> [!IMPORTANT]  \r\n> To use Bzlmod with `rules_graalvm`, you will need the `archive_override` below (until this package is made available on BCR).\r\n\r\n```starlark\r\nbazel_dep(name = \"rules_graalvm\", version = \"0.9.0\")\r\n```\r\n```starlark\r\n# Until we ship to BCR:\r\narchive_override(\r\n    module_name = \"rules_graalvm\",\r\n    urls = [\"https://github.com/sgammon/rules_graalvm/releases/download/v0.9.0/rules_graalvm-0.9.0.tar.gz\"],\r\n    strip_prefix = \"rules_graalvm-0.9.0\",\r\n    integrity = \"sha256-ljI6wbeludsa4aOIxe0fuDDUYo06tLfwlThVgyHgMRE=\",\r\n)\r\n```\r\n```starlark\r\ngvm = use_extension(\"@rules_graalvm//:extensions.bzl\", \"graalvm\")\r\n\r\ngvm.graalvm(\r\n    name = \"graalvm\",\r\n    version = \"20.0.2\",  # earlier version format like `22.x` also supported\r\n    distribution = \"oracle\",  # `oracle`, `ce`, or `community`\r\n    java_version = \"20\",  # `17`, `20`, or `21`, as supported by the version provided\r\n    components = [\r\n       # if you need components like `js` or `wasm`, add them here\r\n    ],\r\n)\r\nuse_repo(\r\n    gvm,\r\n    \"graalvm\",\r\n)\r\n```\r\n\r\n#### Using GraalVM as your Java toolchain\r\n\r\n**From `WORKSPACE.bazel`:**\r\n```starlark\r\n# graalvm_repository(...)\r\n```\r\n```starlark\r\nregister_toolchains(\"@graalvm//:toolchain\")\r\n```\r\n\r\n**From `.bazelrc`:**\r\n```\r\nbuild --extra_toolchains=@graalvm//:toolchain\r\nbuild --java_runtime_version=graalvm_20\r\n```\r\n\r\n> [!NOTE]  \r\n> If you name your repository `example` and set the Java version to `21`, your `java_runtime_version` would be `example_21`.\r\n\r\n### New features\r\n\r\n- Use GraalVM as your Java toolchain in Bazel\r\n- Conventional package structure\r\n- Support for Bazel 6, Bazel 7, and Bzlmod\r\n\r\n### Breaking changes\r\n\r\n- `@rules_graal` â†’  `@rules_graalvm`\r\n- **Repository Rules**\r\n  - `load(\"@rules_graal//graal:graal_bindist.bzl\", \"graal_bindist_repository\")`\r\n    -  â†’ `load(\"@rules_graalvm//graalvm:repositories.bzl\", \"graalvm_repository\")`\r\n  - `graal_bindist_repository` â†’ `graalvm_repository`\r\n- **Target Rules**\r\n  - `load(\"@rules_graal//graal:graal.bzl\", \"graal_binary\")`\r\n    - â†’ `load(\"@rules_graalvm//graalvm:defs.bzl\", \"native_image\")`\r\n  - `graal_binary` â†’ `native_image`\r\n\r\n## Changelog\r\n\r\n* Update from upstream by @sgammon in https://github.com/sgammon/rules_graalvm/pull/2\r\n* Update from latest fork by @sgammon in https://github.com/sgammon/rules_graalvm/pull/4\r\n* Rewrite: `rules_graalvm` by @sgammon in https://github.com/sgammon/rules_graalvm/pull/5\r\n\r\n## New Contributors\r\n* No new contributors this round\r\n\r\n**Full Changelog**: https://github.com/sgammon/rules_graalvm/commits/v0.9.0","mentions_count":1}]