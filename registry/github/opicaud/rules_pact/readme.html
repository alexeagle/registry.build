<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text">
<div class="markdown-heading" dir="auto"><h1 class="heading-element" dir="auto">rules_pact</h1><a id="user-content-rules_pact" class="anchor" aria-label="Permalink: rules_pact" href="#rules_pact"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Bazel rules to test services interactions with <a href="https://docs.pact.io/" rel="nofollow">pacts</a></p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">MODULE.bazel</h2><a id="user-content-modulebazel" class="anchor" aria-label="Permalink: MODULE.bazel" href="#modulebazel"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="bazel_dep(name = &quot;rules_pact&quot;, version = &quot;1.2.0&quot;)"><pre><span class="pl-en">bazel_dep</span>(<span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"rules_pact"</span>, <span class="pl-s1">version</span> <span class="pl-c1">=</span> <span class="pl-s">"1.2.0"</span>)</pre></div>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Usage</h2><a id="user-content-usage" class="anchor" aria-label="Permalink: Usage" href="#usage"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">You can find this full example inside this <a href="https://github.com/opicaud/monorepo">repository</a></p>
<p dir="auto">Start to declare a consumer:</p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="consumer(
    name = &quot;area-calculator-grpc&quot;,
    testonly = True,
    srcs = &quot;:consumer_test&quot;,
    data = [&quot;//events/eventstore/grpc/proto:protodef&quot;],
    visibility = [&quot;//visibility:public&quot;],
)"><pre><span class="pl-en">consumer</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"area-calculator-grpc"</span>,
    <span class="pl-s1">testonly</span> <span class="pl-c1">=</span> <span class="pl-c1">True</span>,
    <span class="pl-s1">srcs</span> <span class="pl-c1">=</span> <span class="pl-s">":consumer_test"</span>,
    <span class="pl-s1">data</span> <span class="pl-c1">=</span> [<span class="pl-s">"//events/eventstore/grpc/proto:protodef"</span>],
    <span class="pl-s1">visibility</span> <span class="pl-c1">=</span> [<span class="pl-s">"//visibility:public"</span>],
)</pre></div>
<p dir="auto"><code>srcs = ":consumer_test"</code> contains the implementation of the pact-test, in your favourite language :), see this <a href="https://github.com/opicaud/monorepo/blob/main/shape-app/domain/internal/BUILD.bazel">example</a> with go</p>
<p dir="auto">Then declare a provider:</p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="provider(
    name = &quot;area-calculator-provider&quot;,
    srcs = &quot;:cmd&quot;,
    opts = {
        &quot;transport&quot;: &quot;grpc&quot;,
        &quot;port&quot;: &quot;50051&quot;,
    },
    visibility = [&quot;//visibility:public&quot;],
    deps = [&quot;:proxy&quot;],
)"><pre><span class="pl-en">provider</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"area-calculator-provider"</span>,
    <span class="pl-s1">srcs</span> <span class="pl-c1">=</span> <span class="pl-s">":cmd"</span>,
    <span class="pl-s1">opts</span> <span class="pl-c1">=</span> {
        <span class="pl-s">"transport"</span>: <span class="pl-s">"grpc"</span>,
        <span class="pl-s">"port"</span>: <span class="pl-s">"50051"</span>,
    },
    <span class="pl-s1">visibility</span> <span class="pl-c1">=</span> [<span class="pl-s">"//visibility:public"</span>],
    <span class="pl-s1">deps</span> <span class="pl-c1">=</span> [<span class="pl-s">":proxy"</span>],
)</pre></div>
<p dir="auto">use <code>opts</code> rule attribute to declare some options used by the toolchain <a href="https://github.com/pact-foundation/pact-reference/blob/master/rust/pact_verifier_cli/README.md">pact_verifier_cli</a></p>
<p dir="auto">If needed, declare a side_car with the provider (proxy / state-manager /...) and bind it as a deps to your provider</p>
<p dir="auto">Example of a http proxy side_car</p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="side_car(
    name = &quot;proxy&quot;,
    srcs = &quot;//shape-app/api/proxy&quot;,
    health_check = &quot;http://localhost:8080/healthz&quot;
)"><pre><span class="pl-en">side_car</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"proxy"</span>,
    <span class="pl-s1">srcs</span> <span class="pl-c1">=</span> <span class="pl-s">"//shape-app/api/proxy"</span>,
    <span class="pl-s1">health_check</span> <span class="pl-c1">=</span> <span class="pl-s">"http://localhost:8080/healthz"</span>
)</pre></div>
<p dir="auto">Example of a state-manager side_car:</p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="side_car(
    name = &quot;side_car&quot;,
    srcs = &quot;//events/eventstore/grpc/test/helper&quot;,
    opts = {
        &quot;state-change-url&quot;: &quot;http://localhost:8081/event&quot;,
        &quot;state-change-teardown&quot;: &quot;true&quot;,
    },
    env = {
        &quot;CONFIG&quot;: &quot;$(location //events/eventstore/grpc/test/helper:config)&quot;,
    },
    data = [&quot;//events/eventstore/grpc/test/helper:config&quot;],
    health_check = &quot;http://localhost:8081/healthz&quot;
)"><pre><span class="pl-en">side_car</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"side_car"</span>,
    <span class="pl-s1">srcs</span> <span class="pl-c1">=</span> <span class="pl-s">"//events/eventstore/grpc/test/helper"</span>,
    <span class="pl-s1">opts</span> <span class="pl-c1">=</span> {
        <span class="pl-s">"state-change-url"</span>: <span class="pl-s">"http://localhost:8081/event"</span>,
        <span class="pl-s">"state-change-teardown"</span>: <span class="pl-s">"true"</span>,
    },
    <span class="pl-s1">env</span> <span class="pl-c1">=</span> {
        <span class="pl-s">"CONFIG"</span>: <span class="pl-s">"$(location //events/eventstore/grpc/test/helper:config)"</span>,
    },
    <span class="pl-s1">data</span> <span class="pl-c1">=</span> [<span class="pl-s">"//events/eventstore/grpc/test/helper:config"</span>],
    <span class="pl-s1">health_check</span> <span class="pl-c1">=</span> <span class="pl-s">"http://localhost:8081/healthz"</span>
)</pre></div>
<p dir="auto">Then declare your pact_test:</p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="pact_test(
    name = &quot;pact_test&quot;,
    testonly = True,
    consumer = &quot;//shape-app/api/pacts:grpc-consumer-go&quot;,
    provider = &quot;:area-calculator-provider&quot;,
)"><pre><span class="pl-en">pact_test</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"pact_test"</span>,
    <span class="pl-s1">testonly</span> <span class="pl-c1">=</span> <span class="pl-c1">True</span>,
    <span class="pl-s1">consumer</span> <span class="pl-c1">=</span> <span class="pl-s">"//shape-app/api/pacts:grpc-consumer-go"</span>,
    <span class="pl-s1">provider</span> <span class="pl-c1">=</span> <span class="pl-s">":area-calculator-provider"</span>,
)</pre></div>
<p dir="auto">The <code>pact_test</code> rule will run the consumer to create the contract if tests are green.
Then it will run the provider against the contract via <a href="https://github.com/pact-foundation/pact-reference/blob/master/rust/pact_verifier_cli/README.md">pact_verifier_cli</a> with the help of the <code>side_car</code></p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Toolchains</h2><a id="user-content-toolchains" class="anchor" aria-label="Permalink: Toolchains" href="#toolchains"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>toolchain</th>
<th>os</th>
<th>cpu</th>
<th>version (default)</th>
</tr>
</thead>
<tbody>
<tr>
<td>pact_verifier_cli</td>
<td>osx;linux</td>
<td>amd64</td>
<td>1.0.1</td>
</tr>
<tr>
<td>pact_protobuf_plugin</td>
<td>osx;linux</td>
<td>amd64</td>
<td>0.3.5</td>
</tr>
<tr>
<td>libpact_ffi</td>
<td>osx;linux</td>
<td>amd64</td>
<td>0.4.9</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto">NB: it's possible to embed libpact_ffi to create an hermetic build, like this <a href="https://github.com/opicaud/monorepo/blob/main/pact-helper/pact_ffi.patch">example</a>, by applying a patch.</p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">Rules</h2><a id="user-content-rules" class="anchor" aria-label="Permalink: Rules" href="#rules"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li><a href="#consumer">consumer</a></li>
<li><a href="#provider">provider</a></li>
<li><a href="#side_car">side_car</a></li>
<li><a href="#pact_test">pact_test</a></li>
<li><a href="#pact_reference_toolchain">pact_reference_toolchain</a></li>
<li><a href="#pact_protobuf_plugin_toolchain">pact_protobuf_plugin_toolchain</a></li>
</ul>
<p dir="auto"><a id="user-content-consumer"></a></p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">consumer</h2><a id="user-content-consumer" class="anchor" aria-label="Permalink: consumer" href="#consumer"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<pre>consumer(<a href="#consumer-name">name</a>, <a href="#consumer-srcs">srcs</a>, <a href="#consumer-data">data</a>)
</pre>
<p dir="auto">Rule that wrap consumer interaction.
It executes the test provided in srcs attribute through the toolchain.
This rule will be executed from the pact_test rule.</p>
<p dir="auto"><strong>ATTRIBUTES</strong></p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Description</th>
<th align="left">Type</th>
<th align="left">Mandatory</th>
<th align="left">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><a id="user-content-consumer-name"></a>name</td>
<td align="left">A unique name for this target.</td>
<td align="left"><a href="https://bazel.build/concepts/labels#target-names" rel="nofollow">Name</a></td>
<td align="left">required</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><a id="user-content-consumer-srcs"></a>srcs</td>
<td align="left">a test target</td>
<td align="left"><a href="https://bazel.build/concepts/labels" rel="nofollow">Label</a></td>
<td align="left">optional</td>
<td align="left"><code>None</code></td>
</tr>
<tr>
<td align="left"><a id="user-content-consumer-data"></a>data</td>
<td align="left">data useful to provide with test target</td>
<td align="left"><a href="https://bazel.build/concepts/labels" rel="nofollow">List of labels</a></td>
<td align="left">optional</td>
<td align="left"><code>[]</code></td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto"><a id="user-content-pact_protobuf_plugin_toolchain"></a></p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">pact_protobuf_plugin_toolchain</h2><a id="user-content-pact_protobuf_plugin_toolchain" class="anchor" aria-label="Permalink: pact_protobuf_plugin_toolchain" href="#pact_protobuf_plugin_toolchain"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<pre>pact_protobuf_plugin_toolchain(<a href="#pact_protobuf_plugin_toolchain-name">name</a>, <a href="#pact_protobuf_plugin_toolchain-manifest">manifest</a>, <a href="#pact_protobuf_plugin_toolchain-protobuf_plugin">protobuf_plugin</a>)
</pre>
<p dir="auto">A pact protobuf plugin toolchain</p>
<p dir="auto"><strong>ATTRIBUTES</strong></p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Description</th>
<th align="left">Type</th>
<th align="left">Mandatory</th>
<th align="left">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><a id="user-content-pact_protobuf_plugin_toolchain-name"></a>name</td>
<td align="left">A unique name for this target.</td>
<td align="left"><a href="https://bazel.build/concepts/labels#target-names" rel="nofollow">Name</a></td>
<td align="left">required</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><a id="user-content-pact_protobuf_plugin_toolchain-manifest"></a>manifest</td>
<td align="left">A json manifest</td>
<td align="left"><a href="https://bazel.build/concepts/labels" rel="nofollow">Label</a></td>
<td align="left">required</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><a id="user-content-pact_protobuf_plugin_toolchain-protobuf_plugin"></a>protobuf_plugin</td>
<td align="left">A pact protobuf plugin binary</td>
<td align="left"><a href="https://bazel.build/concepts/labels" rel="nofollow">Label</a></td>
<td align="left">required</td>
<td align="left"></td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto"><a id="user-content-pact_reference_toolchain"></a></p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">pact_reference_toolchain</h2><a id="user-content-pact_reference_toolchain" class="anchor" aria-label="Permalink: pact_reference_toolchain" href="#pact_reference_toolchain"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<pre>pact_reference_toolchain(<a href="#pact_reference_toolchain-name">name</a>, <a href="#pact_reference_toolchain-libpact_ffi">libpact_ffi</a>, <a href="#pact_reference_toolchain-pact_verifier_cli">pact_verifier_cli</a>)
</pre>
<p dir="auto">A pact reference toolchain</p>
<p dir="auto"><strong>ATTRIBUTES</strong></p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Description</th>
<th align="left">Type</th>
<th align="left">Mandatory</th>
<th align="left">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><a id="user-content-pact_reference_toolchain-name"></a>name</td>
<td align="left">A unique name for this target.</td>
<td align="left"><a href="https://bazel.build/concepts/labels#target-names" rel="nofollow">Name</a></td>
<td align="left">required</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><a id="user-content-pact_reference_toolchain-libpact_ffi"></a>libpact_ffi</td>
<td align="left">A pact ffi library</td>
<td align="left"><a href="https://bazel.build/concepts/labels" rel="nofollow">Label</a></td>
<td align="left">required</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><a id="user-content-pact_reference_toolchain-pact_verifier_cli"></a>pact_verifier_cli</td>
<td align="left">A pact reference binary</td>
<td align="left"><a href="https://bazel.build/concepts/labels" rel="nofollow">Label</a></td>
<td align="left">required</td>
<td align="left"></td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto"><a id="user-content-provider"></a></p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">provider</h2><a id="user-content-provider" class="anchor" aria-label="Permalink: provider" href="#provider"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<pre>provider(<a href="#provider-name">name</a>, <a href="#provider-deps">deps</a>, <a href="#provider-srcs">srcs</a>, <a href="#provider-opts">opts</a>)
</pre>
<p dir="auto">Rule that describe provider interaction</p>
<p dir="auto"><strong>ATTRIBUTES</strong></p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Description</th>
<th align="left">Type</th>
<th align="left">Mandatory</th>
<th align="left">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><a id="user-content-provider-name"></a>name</td>
<td align="left">A unique name for this target.</td>
<td align="left"><a href="https://bazel.build/concepts/labels#target-names" rel="nofollow">Name</a></td>
<td align="left">required</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><a id="user-content-provider-deps"></a>deps</td>
<td align="left">any useful dep to run with the provider like a state-manager, a proxy or a side-car</td>
<td align="left"><a href="https://bazel.build/concepts/labels" rel="nofollow">List of labels</a></td>
<td align="left">optional</td>
<td align="left"><code>[]</code></td>
</tr>
<tr>
<td align="left"><a id="user-content-provider-srcs"></a>srcs</td>
<td align="left">the provider to run</td>
<td align="left"><a href="https://bazel.build/concepts/labels" rel="nofollow">Label</a></td>
<td align="left">optional</td>
<td align="left"><code>None</code></td>
</tr>
<tr>
<td align="left"><a id="user-content-provider-opts"></a>opts</td>
<td align="left">options to provide to pact_verifier_cli</td>
<td align="left"><a href="https://bazel.build/rules/lib/dict" rel="nofollow">Dictionary: String -&gt; String</a></td>
<td align="left">optional</td>
<td align="left"><code>{}</code></td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto"><a id="user-content-side_car"></a></p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">side_car</h2><a id="user-content-side_car" class="anchor" aria-label="Permalink: side_car" href="#side_car"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<pre>side_car(<a href="#side_car-name">name</a>, <a href="#side_car-srcs">srcs</a>, <a href="#side_car-data">data</a>, <a href="#side_car-env">env</a>, <a href="#side_car-health_check">health_check</a>, <a href="#side_car-opts">opts</a>)
</pre>
<p dir="auto"><strong>ATTRIBUTES</strong></p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Description</th>
<th align="left">Type</th>
<th align="left">Mandatory</th>
<th align="left">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><a id="user-content-side_car-name"></a>name</td>
<td align="left">A unique name for this target.</td>
<td align="left"><a href="https://bazel.build/concepts/labels#target-names" rel="nofollow">Name</a></td>
<td align="left">required</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><a id="user-content-side_car-srcs"></a>srcs</td>
<td align="left">the side-car to run</td>
<td align="left"><a href="https://bazel.build/concepts/labels" rel="nofollow">Label</a></td>
<td align="left">optional</td>
<td align="left"><code>None</code></td>
</tr>
<tr>
<td align="left"><a id="user-content-side_car-data"></a>data</td>
<td align="left">any data useful to run with the side-car, like a configuration file for instance</td>
<td align="left"><a href="https://bazel.build/concepts/labels" rel="nofollow">List of labels</a></td>
<td align="left">optional</td>
<td align="left"><code>[]</code></td>
</tr>
<tr>
<td align="left"><a id="user-content-side_car-env"></a>env</td>
<td align="left">any environment variable to provide with the side_car</td>
<td align="left"><a href="https://bazel.build/rules/lib/dict" rel="nofollow">Dictionary: String -&gt; String</a></td>
<td align="left">optional</td>
<td align="left"><code>{}</code></td>
</tr>
<tr>
<td align="left"><a id="user-content-side_car-health_check"></a>health_check</td>
<td align="left">uri to curl before launching provider test</td>
<td align="left">String</td>
<td align="left">optional</td>
<td align="left"><code>"nop"</code></td>
</tr>
<tr>
<td align="left"><a id="user-content-side_car-opts"></a>opts</td>
<td align="left">the option specific to the side-car</td>
<td align="left"><a href="https://bazel.build/rules/lib/dict" rel="nofollow">Dictionary: String -&gt; String</a></td>
<td align="left">optional</td>
<td align="left"><code>{}</code></td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto"><a id="user-content-pact_test"></a></p>
<div class="markdown-heading" dir="auto"><h2 class="heading-element" dir="auto">pact_test</h2><a id="user-content-pact_test" class="anchor" aria-label="Permalink: pact_test" href="#pact_test"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<pre>pact_test(<a href="#pact_test-kwargs">kwargs</a>)
</pre>
<p dir="auto"><strong>PARAMETERS</strong></p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Description</th>
<th align="left">Default Value</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><a id="user-content-pact_test-kwargs"></a>kwargs</td>
<td align="left"><p align="center" dir="auto"> - </p></td>
<td align="left">none</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
</article></div>