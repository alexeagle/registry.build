<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 dir="auto"><a id="user-content-yams" class="anchor" aria-hidden="true" href="#yams"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Yams</h1>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/jpsim/Yams/main/yams.jpg"><img src="https://raw.githubusercontent.com/jpsim/Yams/main/yams.jpg" alt="Yams" style="max-width: 100%;"></a></p>
<p dir="auto">A sweet and swifty <a href="http://yaml.org/" rel="nofollow">YAML</a> parser built on
<a href="https://github.com/yaml/libyaml">LibYAML</a>.</p>
<p dir="auto"><a href="https://github.com/jpsim/Yams/actions?query=workflow%3ASwiftPM"><img src="https://github.com/jpsim/Yams/workflows/SwiftPM/badge.svg" alt="SwiftPM" style="max-width: 100%;"></a>
<a href="https://github.com/jpsim/Yams/actions?query=workflow%3Axcodebuild"><img src="https://github.com/jpsim/Yams/workflows/xcodebuild/badge.svg" alt="xcodebuild" style="max-width: 100%;"></a>
<a href="https://github.com/jpsim/Yams/actions?query=workflow%3A%22pod+lib+lint%22"><img src="https://github.com/jpsim/Yams/workflows/pod%20lib%20lint/badge.svg" alt="pod lib lint" style="max-width: 100%;"></a>
<a href="https://github.com/jpsim/Yams/actions?query=workflow%3ANightly"><img src="https://github.com/jpsim/Yams/workflows/Nightly/badge.svg" alt="Nightly" style="max-width: 100%;"></a>
<a href="https://codecov.io/gh/jpsim/Yams" rel="nofollow"><img src="https://camo.githubusercontent.com/aac58c0a8d587bb8226e56b94eb4ff939c74527cddd0fc09b8b0135fea36a396/68747470733a2f2f636f6465636f762e696f2f67682f6a7073696d2f59616d732f6272616e63682f6d61696e2f67726170682f62616467652e737667" alt="codecov" data-canonical-src="https://codecov.io/gh/jpsim/Yams/branch/main/graph/badge.svg" style="max-width: 100%;"></a></p>
<h2 dir="auto"><a id="user-content-installation" class="anchor" aria-hidden="true" href="#installation"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Installation</h2>
<p dir="auto">Building Yams requires Xcode 12.5+ or a Swift 5.4+ toolchain with the
Swift Package Manager or CMake and Ninja.</p>
<h3 dir="auto"><a id="user-content-cmake" class="anchor" aria-hidden="true" href="#cmake"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>CMake</h3>
<p dir="auto">CMake 3.17.2 or newer is required, along with Ninja 1.9.0 or newer.</p>
<p dir="auto">When building for non-Apple platforms:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="cmake -B /path/to/build -G Ninja -S /path/to/yams -DCMAKE_BUILD_TYPE=Release -DFoundation_DIR=/path/to/foundation/build/cmake/modules
cmake --build /path/to/build"><pre class="notranslate"><code>cmake -B /path/to/build -G Ninja -S /path/to/yams -DCMAKE_BUILD_TYPE=Release -DFoundation_DIR=/path/to/foundation/build/cmake/modules
cmake --build /path/to/build
</code></pre></div>
<p dir="auto">To build for Apple platforms (macOS, iOS, tvOS, watchOS), there is no
need to spearately build Foundation because it is included as part of
the SDK:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="cmake -B /path/to/build -G Ninja -S /path/to/yams -DCMAKE_BUILD_TYPE=Release
cmake --build /path/to/build"><pre class="notranslate"><code>cmake -B /path/to/build -G Ninja -S /path/to/yams -DCMAKE_BUILD_TYPE=Release
cmake --build /path/to/build
</code></pre></div>
<h3 dir="auto"><a id="user-content-swift-package-manager" class="anchor" aria-hidden="true" href="#swift-package-manager"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Swift Package Manager</h3>
<p dir="auto">Add <code>.package(url: "https://github.com/jpsim/Yams.git", from: "5.0.5")</code> to your
<code>Package.swift</code> file's <code>dependencies</code>.</p>
<h3 dir="auto"><a id="user-content-cocoapods" class="anchor" aria-hidden="true" href="#cocoapods"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>CocoaPods</h3>
<p dir="auto">Add <code>pod 'Yams'</code> to your <code>Podfile</code>.</p>
<h3 dir="auto"><a id="user-content-carthage" class="anchor" aria-hidden="true" href="#carthage"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Carthage</h3>
<p dir="auto">Add <code>github "jpsim/Yams"</code> to your <code>Cartfile</code>.</p>
<h3 dir="auto"><a id="user-content-bazel" class="anchor" aria-hidden="true" href="#bazel"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Bazel</h3>
<p dir="auto">In your WORKSPACE file</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="YAMS_GIT_SHA = &quot;SOME_SHA&quot;
http_archive(
    name = &quot;com_github_jpsim_yams&quot;,
    urls = [
        &quot;https://github.com/jpsim/Yams/archive/%s.zip&quot; % YAMS_GIT_SHA,
    ],
    strip_prefix = &quot;Yams-%s&quot; % YAMS_GIT_SHA,
)"><pre lang="WORKSPACE" class="notranslate"><code>YAMS_GIT_SHA = "SOME_SHA"
http_archive(
    name = "com_github_jpsim_yams",
    urls = [
        "https://github.com/jpsim/Yams/archive/%s.zip" % YAMS_GIT_SHA,
    ],
    strip_prefix = "Yams-%s" % YAMS_GIT_SHA,
)
</code></pre></div>
<h2 dir="auto"><a id="user-content-usage" class="anchor" aria-hidden="true" href="#usage"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Usage</h2>
<p dir="auto">Yams has three groups of conversion APIs:
one for use with <a href="#codable-types"><code>Codable</code> types</a>,
another for <a href="#swift-standard-library-types">Swift Standard Library types</a>,
and a third one for a <a href="#yamsnode">Yams-native</a> representation.</p>
<h4 dir="auto"><a id="user-content-codable-types" class="anchor" aria-hidden="true" href="#codable-types"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><code>Codable</code> types</h4>
<ul dir="auto">
<li>Codable is an <a href="https://developer.apple.com/documentation/foundation/archives_and_serialization/encoding_and_decoding_custom_types" rel="nofollow">encoding &amp; decoding strategy introduced in Swift 4</a>
enabling easy conversion between YAML and other Encoders like
<a href="https://developer.apple.com/documentation/foundation/jsonencoder" rel="nofollow">JSONEncoder</a> and <a href="https://developer.apple.com/documentation/foundation/propertylistencoder" rel="nofollow">PropertyListEncoder</a>.</li>
<li>Lowest computational overhead, equivalent to <code>Yams.Node</code>.</li>
<li><strong>Encoding: <code>YAMLEncoder.encode(_:)</code></strong>
Produces a YAML <code>String</code> from an instance of type conforming to <code>Encodable</code>.</li>
<li><strong>Decoding: <code>YAMLDecoder.decode(_:from:)</code></strong>
Decodes an instance of type conforming to <code>Decodable</code> from YAML <code>String</code> or
<code>Data</code>.</li>
</ul>
<div class="highlight highlight-source-swift notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="import Foundation
import Yams

struct S: Codable {
    var p: String
}

let s = S(p: &quot;test&quot;)
let encoder = YAMLEncoder()
let encodedYAML = try encoder.encode(s)
encodedYAML == &quot;&quot;&quot;
p: test

&quot;&quot;&quot;
let decoder = YAMLDecoder()
let decoded = try decoder.decode(S.self, from: encodedYAML)
s.p == decoded.p"><pre><span class="pl-k">import</span> <span class="pl-en">Foundation</span>
<span class="pl-k">import</span> <span class="pl-en">Yams</span>

<span class="pl-k">struct</span> <span class="pl-en">S</span>: <span class="pl-e">Codable </span>{
    <span class="pl-k">var</span> p: <span class="pl-c1">String</span>
}

<span class="pl-k">let</span> s <span class="pl-k">=</span> <span class="pl-c1">S</span>(<span class="pl-c1">p</span>: <span class="pl-s"><span class="pl-pds">"</span>test<span class="pl-pds">"</span></span>)
<span class="pl-k">let</span> encoder <span class="pl-k">=</span> <span class="pl-c1">YAMLEncoder</span>()
<span class="pl-k">let</span> encodedYAML <span class="pl-k">=</span> <span class="pl-k">try</span> encoder.<span class="pl-c1">encode</span>(s)
encodedYAML <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"""</span></span>
<span class="pl-s">p: test</span>
<span class="pl-s"></span>
<span class="pl-s"><span class="pl-pds">"""</span></span>
<span class="pl-k">let</span> decoder <span class="pl-k">=</span> <span class="pl-c1">YAMLDecoder</span>()
<span class="pl-k">let</span> decoded <span class="pl-k">=</span> <span class="pl-k">try</span> decoder.<span class="pl-c1">decode</span>(S.<span class="pl-k">self</span>, <span class="pl-c1">from</span>: encodedYAML)
s.<span class="pl-smi">p</span> <span class="pl-k">==</span> decoded.<span class="pl-smi">p</span></pre></div>
<h4 dir="auto"><a id="user-content-swift-standard-library-types" class="anchor" aria-hidden="true" href="#swift-standard-library-types"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Swift Standard Library types</h4>
<ul dir="auto">
<li>The type of Swift Standard Library is inferred from the contents of the
internal <code>Yams.Node</code> representation by matching regular expressions.</li>
<li>This method has the largest computational overhead When decoding YAML, because
the type inference of all objects is done up-front.</li>
<li>It may be easier to use in such a way as to handle objects created from
<code>JSONSerialization</code> or if the input is already standard library types
(<code>Any</code>, <code>Dictionary</code>, <code>Array</code>, etc.).</li>
<li><strong>Encoding: <code>Yams.dump(object:)</code></strong>
Produces a YAML <code>String</code> from an instance of Swift Standard Library types.</li>
<li><strong>Decoding: <code>Yams.load(yaml:)</code></strong>
Produces an instance of Swift Standard Library types as <code>Any</code> from YAML
<code>String</code>.</li>
</ul>
<div class="highlight highlight-source-swift notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="// [String: Any]
let dictionary: [String: Any] = [&quot;key&quot;: &quot;value&quot;]
let mapYAML: String = try Yams.dump(object: dictionary)
mapYAML == &quot;&quot;&quot;
key: value

&quot;&quot;&quot;
let loadedDictionary = try Yams.load(yaml: mapYAML) as? [String: Any]

// [Any]
let array: [Int] = [1, 2, 3]
let sequenceYAML: String = try Yams.dump(object: array)
sequenceYAML == &quot;&quot;&quot;
- 1
- 2
- 3

&quot;&quot;&quot;
let loadedArray: [Int]? = try Yams.load(yaml: sequenceYAML) as? [Int]

// Any
let string = &quot;string&quot;
let scalarYAML: String = try Yams.dump(object: string)
scalarYAML == &quot;&quot;&quot;
string

&quot;&quot;&quot;
let loadedString: String? = try Yams.load(yaml: scalarYAML) as? String"><pre><span class="pl-c"><span class="pl-c">//</span> [String: Any]</span>
<span class="pl-c"></span><span class="pl-k">let</span> dictionary: [<span class="pl-c1">String</span>: <span class="pl-c1">Any</span>] <span class="pl-k">=</span> [<span class="pl-s"><span class="pl-pds">"</span>key<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span>]
<span class="pl-k">let</span> mapYAML: <span class="pl-c1">String</span> <span class="pl-k">=</span> <span class="pl-k">try</span> Yams.<span class="pl-c1">dump</span>(<span class="pl-c1">object</span>: dictionary)
mapYAML <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"""</span></span>
<span class="pl-s">key: value</span>
<span class="pl-s"></span>
<span class="pl-s"><span class="pl-pds">"""</span></span>
<span class="pl-k">let</span> loadedDictionary <span class="pl-k">=</span> <span class="pl-k">try</span> Yams.<span class="pl-c1">load</span>(<span class="pl-c1">yaml</span>: mapYAML) <span class="pl-k">as?</span> [<span class="pl-c1">String</span><span class="pl-k">:</span> <span class="pl-c1">Any</span>]

<span class="pl-c"><span class="pl-c">//</span> [Any]</span>
<span class="pl-c"></span><span class="pl-k">let</span> array: [<span class="pl-c1">Int</span>] <span class="pl-k">=</span> [<span class="pl-c1">1</span>, <span class="pl-c1">2</span>, <span class="pl-c1">3</span>]
<span class="pl-k">let</span> sequenceYAML: <span class="pl-c1">String</span> <span class="pl-k">=</span> <span class="pl-k">try</span> Yams.<span class="pl-c1">dump</span>(<span class="pl-c1">object</span>: array)
sequenceYAML <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"""</span></span>
<span class="pl-s">- 1</span>
<span class="pl-s">- 2</span>
<span class="pl-s">- 3</span>
<span class="pl-s"></span>
<span class="pl-s"><span class="pl-pds">"""</span></span>
<span class="pl-k">let</span> loadedArray: [<span class="pl-c1">Int</span>]<span class="pl-k">?</span> <span class="pl-k">=</span> <span class="pl-k">try</span> Yams.<span class="pl-c1">load</span>(<span class="pl-c1">yaml</span>: sequenceYAML) <span class="pl-k">as?</span> [<span class="pl-c1">Int</span>]

<span class="pl-c"><span class="pl-c">//</span> Any</span>
<span class="pl-c"></span><span class="pl-k">let</span> string <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>string<span class="pl-pds">"</span></span>
<span class="pl-k">let</span> scalarYAML: <span class="pl-c1">String</span> <span class="pl-k">=</span> <span class="pl-k">try</span> Yams.<span class="pl-c1">dump</span>(<span class="pl-c1">object</span>: string)
scalarYAML <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"""</span></span>
<span class="pl-s">string</span>
<span class="pl-s"></span>
<span class="pl-s"><span class="pl-pds">"""</span></span>
<span class="pl-k">let</span> loadedString: <span class="pl-c1">String</span><span class="pl-k">?</span> <span class="pl-k">=</span> <span class="pl-k">try</span> Yams.<span class="pl-c1">load</span>(<span class="pl-c1">yaml</span>: scalarYAML) <span class="pl-k">as?</span> <span class="pl-c1">String</span></pre></div>
<h4 dir="auto"><a id="user-content-yamsnode" class="anchor" aria-hidden="true" href="#yamsnode"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><code>Yams.Node</code></h4>
<ul dir="auto">
<li>Yams' native model representing <a href="http://www.yaml.org/spec/1.2/spec.html#id2764044" rel="nofollow">Nodes of YAML</a> which provides all
functions such as detection and customization of the YAML format.</li>
<li>Depending on how it is used, computational overhead can be minimized.</li>
<li><strong>Encoding: <code>Yams.serialize(node:)</code></strong>
Produces a YAML <code>String</code> from an instance of <code>Node</code>.</li>
<li><strong>Decoding <code>Yams.compose(yaml:)</code></strong>
Produces an instance of <code>Node</code> from YAML <code>String</code>.</li>
</ul>
<div class="highlight highlight-source-swift notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="var map: Yams.Node = [
    &quot;array&quot;: [
        1, 2, 3
    ]
]
map.mapping?.style = .flow
map[&quot;array&quot;]?.sequence?.style = .flow
let yaml = try Yams.serialize(node: map)
yaml == &quot;&quot;&quot;
{array: [1, 2, 3]}

&quot;&quot;&quot;
let node = try Yams.compose(yaml: yaml)
map == node"><pre><span class="pl-k">var</span> map: Yams.Node <span class="pl-k">=</span> [
    <span class="pl-s"><span class="pl-pds">"</span>array<span class="pl-pds">"</span></span><span class="pl-k">:</span> [
        <span class="pl-c1">1</span>, <span class="pl-c1">2</span>, <span class="pl-c1">3</span>
    ]
]
map.<span class="pl-smi">mapping</span><span class="pl-k">?</span>.<span class="pl-smi">style</span> <span class="pl-k">=</span> .<span class="pl-smi">flow</span>
map[<span class="pl-s"><span class="pl-pds">"</span>array<span class="pl-pds">"</span></span>]<span class="pl-k">?</span>.<span class="pl-smi">sequence</span><span class="pl-k">?</span>.<span class="pl-smi">style</span> <span class="pl-k">=</span> .<span class="pl-smi">flow</span>
<span class="pl-k">let</span> yaml <span class="pl-k">=</span> <span class="pl-k">try</span> Yams.<span class="pl-c1">serialize</span>(<span class="pl-c1">node</span>: map)
yaml <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"""</span></span>
<span class="pl-s">{array: [1, 2, 3]}</span>
<span class="pl-s"></span>
<span class="pl-s"><span class="pl-pds">"""</span></span>
<span class="pl-k">let</span> node <span class="pl-k">=</span> <span class="pl-k">try</span> Yams.<span class="pl-c1">compose</span>(<span class="pl-c1">yaml</span>: yaml)
map <span class="pl-k">==</span> node</pre></div>
<h4 dir="auto"><a id="user-content-integrating-with-combine" class="anchor" aria-hidden="true" href="#integrating-with-combine"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Integrating with <a href="https://developer.apple.com/documentation/combine" rel="nofollow">Combine</a></h4>
<p dir="auto">When Apple's Combine framework is available, <code>YAMLDecoder</code> conforms to the
<code>TopLevelDecoder</code> protocol, which allows it to be used with the
<code>decode(type:decoder:)</code> operator:</p>
<div class="highlight highlight-source-swift notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="import Combine
import Foundation
import Yams

func fetchBook(from url: URL) -&gt; AnyPublisher&lt;Book, Error&gt; {
    URLSession.shared.dataTaskPublisher(for: url)
        .map(\.data)
        .decode(type: Book.self, decoder: YAMLDecoder())
        .eraseToAnyPublisher()
}"><pre><span class="pl-k">import</span> <span class="pl-en">Combine</span>
<span class="pl-k">import</span> <span class="pl-en">Foundation</span>
<span class="pl-k">import</span> <span class="pl-en">Yams</span>

<span class="pl-k">func</span> <span class="pl-en">fetchBook</span>(<span class="pl-en">from</span> <span class="pl-smi">url</span>: URL) <span class="pl-k">-&gt;</span> AnyPublisher&lt;Book, <span class="pl-c1">Error</span>&gt; {
    URLSession.<span class="pl-smi">shared</span>.<span class="pl-c1">dataTaskPublisher</span>(<span class="pl-c1">for</span>: url)
        .<span class="pl-c1">map</span>(\.<span class="pl-smi">data</span>)
        .<span class="pl-c1">decode</span>(<span class="pl-c1">type</span>: Book.<span class="pl-k">self</span>, <span class="pl-c1">decoder</span>: <span class="pl-c1">YAMLDecoder</span>())
        .<span class="pl-c1">eraseToAnyPublisher</span>()
}</pre></div>
<h2 dir="auto"><a id="user-content-license" class="anchor" aria-hidden="true" href="#license"><svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>License</h2>
<p dir="auto">Both Yams and libYAML are MIT licensed.</p>
</article></div>