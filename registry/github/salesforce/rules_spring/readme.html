<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h2 id="user-content-salesforce-spring-rules-for-bazel" dir="auto"><a class="heading-link" href="#salesforce-spring-rules-for-bazel">Salesforce Spring Rules for Bazel<svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p dir="auto">This repository contains the <a href="https://spring.io/guides/gs/spring-boot/" rel="nofollow">Spring Boot</a> rule
for the <a href="https://bazel.build/" rel="nofollow">Bazel</a> build system.
It enables Bazel to build Spring Boot applications and package them as an executable jar file.
The executable jar is the best way to deploy your Spring Boot application in production environments.</p>
<p dir="auto">The Salesforce <em>springboot</em> rule can be found, along with documentation, in this directory:</p>
<ul dir="auto">
<li><a href="springboot">springboot</a>: a Bazel extension to build and package Spring Boot applications</li>
</ul>
<h3 id="user-content-support-and-ongoing-development" dir="auto"><a class="heading-link" href="#support-and-ongoing-development">Support and Ongoing Development<svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p dir="auto">This rule was developed and is supported by Salesforce.
If you have any issues with this repository, please create a <a href="https://github.com/salesforce/rules_spring/issues">GitHub Issue</a>.
We will try to quickly address problems and answer questions.
Note that we do not yet support running these <a href="https://github.com/salesforce/rules_spring/issues/25" data-hovercard-type="issue" data-hovercard-url="/salesforce/rules_spring/issues/25/hovercard">rules on Windows</a>.</p>
<p dir="auto">Ongoing development is planned and tracked using this GitHub repository's <a href="https://github.com/salesforce/rules_spring/projects">Project Manager</a>.
To see what bug fixes and new features are planned, consult the roadmaps located there.</p>
<p dir="auto"><img class="emoji" title=":octocat:" alt=":octocat:" src="https://github.githubassets.com/images/icons/emoji/octocat.png" height="20" width="20" align="absmiddle"> Please do us a <strong>huge favor</strong>. If you think this project could be useful for you, now or in the future,
please hit the <strong>Star</strong> button at the top. That helps us advocate for more time and resources on this project. Thanks!</p>
<h3 id="user-content-loading-the-spring-rules-in-your-workspace" dir="auto"><a class="heading-link" href="#loading-the-spring-rules-in-your-workspace">Loading the Spring Rules in your WORKSPACE<svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p dir="auto">Before you can use the rule in your BUILD files, you need to add it to your workspace.</p>
<p dir="auto"><strong>Reference an official release</strong>
This loads a pre-built version of this rule into your workspace during the build.
This is the recommended approach for most users.</p>
<div class="highlight highlight-source-python notranslate position-relative overflow-auto" dir="auto" data-snippet-clipboard-copy-content="http_archive(
    name = &quot;rules_spring&quot;,
    sha256 = &quot;01426d0a67c32ba0de0b0f3baa2b0810087789c6260c0c06741c1733956158a3&quot;,
    urls = [
        &quot;https://github.com/salesforce/rules_spring/releases/download/2.2.4/rules-spring-2.2.4.zip&quot;,
    ],
)"><pre><span class="pl-en">http_archive</span>(
    <span class="pl-s1">name</span> <span class="pl-c1">=</span> <span class="pl-s">"rules_spring"</span>,
    <span class="pl-s1">sha256</span> <span class="pl-c1">=</span> <span class="pl-s">"01426d0a67c32ba0de0b0f3baa2b0810087789c6260c0c06741c1733956158a3"</span>,
    <span class="pl-s1">urls</span> <span class="pl-c1">=</span> [
        <span class="pl-s">"https://github.com/salesforce/rules_spring/releases/download/2.2.4/rules-spring-2.2.4.zip"</span>,
    ],
)</pre></div>
<p dir="auto"><strong>Do not use a git_repository rule with our main branch</strong>
If you choose not to use an official release, you may be tempted to use a <em>git_repository</em> workspace
rule to point to our <em>main</em> branch,
Please <strong>do not</strong> do this, as we use <em>main</em> for ongoing work.
We may check breaking changes into <em>main</em> at any time.</p>
<h3 id="user-content-alternate-approach-for-building-and-running-spring-boot-applications" dir="auto"><a class="heading-link" href="#alternate-approach-for-building-and-running-spring-boot-applications">Alternate Approach for Building and Running Spring Boot Applications<svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p dir="auto">If you don't need to create a runnable executable jar file, there is an alternate approach to Spring Boot
in the <em>rules_jvm_external</em> repository.
That approach is sufficient if Bazel and your Bazel workspace (i.e. source code) are available in
all environments that launch the application.</p>
<ul dir="auto">
<li><a href="https://github.com/bazelbuild/rules_jvm_external/tree/master/examples/spring_boot">rules_jvm_external Spring Boot example</a></li>
</ul>
<p dir="auto">At Salesforce, Bazel is not available in production environments, and so this alternate approach is not viable.</p>
<h3 id="user-content-upgrades" dir="auto"><a class="heading-link" href="#upgrades">Upgrades<svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p dir="auto">This section contains notes for specific upgrade steps needed to adopt newer versions of <em>rules-spring</em>.
Starting with the 1.1.x line, we strive to adhere to <a href="https://semver.org/" rel="nofollow">SemVer</a>.
This Git repository was renamed from <em>bazel-springboot-rule</em> to <em>rules_spring</em> on March 17, 2021.
This was done to comply with required Bazel naming conventions for external rules.</p>
<h4 id="user-content-200-march-13-2021" dir="auto"><a class="heading-link" href="#200-march-13-2021">2.0.0: March 13, 2021<svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h4>
<p dir="auto">This release refactored the rule with the standardized Bazel rule layout conventions.
When the Spring Boot rule was originally written, the conventions did not exist.
This repackaging makes the rule more modern.</p>
<p dir="auto">For rule 1.x users upgrading to 2.0.0, you will need to do the following:</p>
<ul dir="auto">
<li>All WORKSPACE and BUILD file references to <em>bazel_springboot_rule</em> must be changed to <em>rules_spring</em></li>
<li>All BUILD and .bzl file references to <em>//tools/springboot</em> must be changed to <em>//springboot</em></li>
</ul>
<p dir="auto">See <a href="https://github.com/salesforce/rules_spring/issues/30" data-hovercard-type="issue" data-hovercard-url="/salesforce/rules_spring/issues/30/hovercard">Repackaging work item</a> for more details.</p>
</article></div>