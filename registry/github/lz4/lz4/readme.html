<div id="readme" class="md" data-path="README.md"><article class="markdown-body entry-content container-lg" itemprop="text"><h1 id="user-content-lz4---extremely-fast-compression" dir="auto"><a class="heading-link" href="#lz4---extremely-fast-compression">LZ4 - Extremely fast compression<svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h1>
<p dir="auto">LZ4 is lossless compression algorithm,
providing compression speed &gt; 500 MB/s per core,
scalable with multi-cores CPU.
It features an extremely fast decoder,
with speed in multiple GB/s per core,
typically reaching RAM speed limits on multi-core systems.</p>
<p dir="auto">Speed can be tuned dynamically, selecting an "acceleration" factor
which trades compression ratio for faster speed.
On the other end, a high compression derivative, LZ4_HC, is also provided,
trading CPU time for improved compression ratio.
All versions feature the same decompression speed.</p>
<p dir="auto">LZ4 is also compatible with <a href="https://github.com/facebook/zstd#the-case-for-small-data-compression">dictionary compression</a>,
both at <a href="https://github.com/lz4/lz4/blob/v1.8.3/lib/lz4frame.h#L481">API</a> and <a href="https://github.com/lz4/lz4/blob/v1.8.3/programs/lz4.1.md#operation-modifiers">CLI</a> levels.
It can ingest any input file as dictionary, though only the final 64KB are used.
This capability can be combined with the <a href="https://github.com/facebook/zstd/blob/v1.3.5/programs/zstd.1.md#dictionary-builder">Zstandard Dictionary Builder</a>,
in order to drastically improve compression performance on small files.</p>
<p dir="auto">LZ4 library is provided as open-source software using BSD 2-Clause license.</p>
<table>
<thead>
<tr>
<th>Branch</th>
<th>Status</th>
</tr>
</thead>
<tbody>
<tr>
<td>dev</td>
<td><a href="https://ci.appveyor.com/project/YannCollet/lz4-1lndh" rel="nofollow"><img src="https://camo.githubusercontent.com/7c3457a9755dbeb44f3e7b66e1baccc37d7a96adfb65f35912eed841c4fa1e6b/68747470733a2f2f63692e6170707665796f722e636f6d2f6170692f70726f6a656374732f7374617475732f6769746875622f6c7a342f6c7a343f6272616e63683d646576267376673d74727565" alt="Build status" title="Windows test suite" data-canonical-src="https://ci.appveyor.com/api/projects/status/github/lz4/lz4?branch=dev&amp;svg=true" style="max-width: 100%;"></a></td>
</tr>
</tbody>
</table>
<h2 id="user-content-benchmarks" dir="auto"><a class="heading-link" href="#benchmarks">Benchmarks<svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p dir="auto">The benchmark uses <a href="https://github.com/inikep/lzbench">lzbench</a>, from @inikep
compiled with GCC v8.2.0 on Linux 64-bits (Ubuntu 4.18.0-17).
The reference system uses a Core i7-9700K CPU @ 4.9GHz (w/ turbo boost).
Benchmark evaluates the compression of reference <a href="http://sun.aei.polsl.pl/~sdeor/index.php?page=silesia" rel="nofollow">Silesia Corpus</a>
in single-thread mode.</p>
<table>
<thead>
<tr>
<th>Compressor</th>
<th>Ratio</th>
<th>Compression</th>
<th>Decompression</th>
</tr>
</thead>
<tbody>
<tr>
<td>memcpy</td>
<td>1.000</td>
<td>13700 MB/s</td>
<td>13700 MB/s</td>
</tr>
<tr>
<td><strong>LZ4 default (v1.9.0)</strong></td>
<td><strong>2.101</strong></td>
<td><strong>780 MB/s</strong></td>
<td><strong>4970 MB/s</strong></td>
</tr>
<tr>
<td>LZO 2.09</td>
<td>2.108</td>
<td>670 MB/s</td>
<td>860 MB/s</td>
</tr>
<tr>
<td>QuickLZ 1.5.0</td>
<td>2.238</td>
<td>575 MB/s</td>
<td>780 MB/s</td>
</tr>
<tr>
<td>Snappy 1.1.4</td>
<td>2.091</td>
<td>565 MB/s</td>
<td>1950 MB/s</td>
</tr>
<tr>
<td><a href="http://www.zstd.net/" rel="nofollow">Zstandard</a> 1.4.0 -1</td>
<td>2.883</td>
<td>515 MB/s</td>
<td>1380 MB/s</td>
</tr>
<tr>
<td>LZF v3.6</td>
<td>2.073</td>
<td>415 MB/s</td>
<td>910 MB/s</td>
</tr>
<tr>
<td><a href="http://www.zlib.net/" rel="nofollow">zlib</a> deflate 1.2.11 -1</td>
<td>2.730</td>
<td>100 MB/s</td>
<td>415 MB/s</td>
</tr>
<tr>
<td><strong>LZ4 HC -9 (v1.9.0)</strong></td>
<td><strong>2.721</strong></td>
<td>41 MB/s</td>
<td><strong>4900 MB/s</strong></td>
</tr>
<tr>
<td><a href="http://www.zlib.net/" rel="nofollow">zlib</a> deflate 1.2.11 -6</td>
<td>3.099</td>
<td>36 MB/s</td>
<td>445 MB/s</td>
</tr>
</tbody>
</table>
<p dir="auto">LZ4 is also compatible and optimized for x32 mode (<code>-mx32</code>),
for which it provides additional speed performance.</p>
<h2 id="user-content-installation" dir="auto"><a class="heading-link" href="#installation">Installation<svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="make
make install     # this command may require root permissions"><pre class="notranslate"><code>make
make install     # this command may require root permissions
</code></pre></div>
<p dir="auto">LZ4's <code>Makefile</code> supports standard <a href="https://www.gnu.org/prep/standards/html_node/Makefile-Conventions.html" rel="nofollow">Makefile conventions</a>,
including <a href="https://www.gnu.org/prep/standards/html_node/DESTDIR.html" rel="nofollow">staged installs</a>, <a href="https://www.gnu.org/prep/standards/html_node/Directory-Variables.html" rel="nofollow">redirection</a>, or <a href="https://www.gnu.org/prep/standards/html_node/Utilities-in-Makefiles.html" rel="nofollow">command redefinition</a>.
It is compatible with parallel builds (<code>-j#</code>).</p>
<h3 id="user-content-building-lz4---using-vcpkg" dir="auto"><a class="heading-link" href="#building-lz4---using-vcpkg">Building LZ4 - Using vcpkg<svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p dir="auto">You can download and install LZ4 using the <a href="https://github.com/Microsoft/vcpkg">vcpkg</a> dependency manager:</p>
<div class="snippet-clipboard-content notranslate position-relative overflow-auto" data-snippet-clipboard-copy-content="git clone https://github.com/Microsoft/vcpkg.git
cd vcpkg
./bootstrap-vcpkg.sh
./vcpkg integrate install
./vcpkg.exe install lz4"><pre class="notranslate"><code>git clone https://github.com/Microsoft/vcpkg.git
cd vcpkg
./bootstrap-vcpkg.sh
./vcpkg integrate install
./vcpkg.exe install lz4
</code></pre></div>
<p dir="auto">The LZ4 port in vcpkg is kept up to date by Microsoft team members and community contributors. If the version is out of date, please <a href="https://github.com/Microsoft/vcpkg">create an issue or pull request</a> on the vcpkg repository.</p>
<h2 id="user-content-documentation" dir="auto"><a class="heading-link" href="#documentation">Documentation<svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p dir="auto">The raw LZ4 block compression format is detailed within <a href="doc/lz4_Block_format.md">lz4_Block_format</a>.</p>
<p dir="auto">Arbitrarily long files or data streams are compressed using multiple blocks,
for streaming requirements. These blocks are organized into a frame,
defined into <a href="doc/lz4_Frame_format.md">lz4_Frame_format</a>.
Interoperable versions of LZ4 must also respect the frame format.</p>
<h2 id="user-content-other-source-versions" dir="auto"><a class="heading-link" href="#other-source-versions">Other source versions<svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p dir="auto">Beyond the C reference source,
many contributors have created versions of lz4 in multiple languages
(Java, C#, Python, Perl, Ruby, etc.).
A list of known source ports is maintained on the <a href="http://www.lz4.org" rel="nofollow">LZ4 Homepage</a>.</p>
<h3 id="user-content-packaging-status" dir="auto"><a class="heading-link" href="#packaging-status">Packaging status<svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p dir="auto">Most distributions are bundled with a package manager
which allows easy installation of both the <code>liblz4</code> library
and the <code>lz4</code> command line interface.</p>
<p dir="auto"><a href="https://repology.org/project/lz4/versions" rel="nofollow"><img src="https://camo.githubusercontent.com/44d97d164d88e507ec99ec4919b4d7d0053a204cbe425616cc1f1d041746ab70/68747470733a2f2f7265706f6c6f67792e6f72672f62616467652f766572746963616c2d616c6c7265706f732f6c7a342e737667" alt="Packaging status" data-canonical-src="https://repology.org/badge/vertical-allrepos/lz4.svg" style="max-width: 100%;"></a></p>
<h3 id="user-content-special-thanks" dir="auto"><a class="heading-link" href="#special-thanks">Special Thanks<svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<ul dir="auto">
<li>Takayuki Matsuoka, aka @t-mat, for exceptional first-class support throughout the lifetime of this project</li>
</ul>
</article></div>